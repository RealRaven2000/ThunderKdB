!function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class s{constructor(e,t,r,s){this.id_=e,this.key_=t,this.name_=r,this.useClassification_=s}get value(){return this}get text(){return this.name_}set text(e){this.name_=e}get useClassification(){return this.useClassification_}set useClassification(e){this.useClassification_=e}get key(){return this.key_}set key(e){this.key_=e}get id(){return this.id_}set id(e){this.id_=e}get name(){return this.name_}set name(e){this.name_=e}}class n{static async load(){const e=[],t=await browser.storage.sync.get("tags"),r=await browser.messages.listTags();return null!=r&&r.forEach((r,n)=>{let a=!1;null!=t.tags&&t.tags.indexOf(r.key)>=0&&(a=!0),e.push(new s(n,r.key,r.tag,a))}),e}static async save(e){const t=[];for(const r of e)t.push(r.key);await browser.storage.sync.set({tags:t})}}},function(e,t,r){var s,n,a;n=[e],void 0===(a="function"==typeof(s=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=()=>{const e={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(e).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const n=(e,t)=>(...r)=>{chrome.runtime.lastError?e.reject(chrome.runtime.lastError):t.singleCallbackArg||r.length<=1?e.resolve(r[0]):e.resolve(r)},a=e=>1==e?"argument":"arguments",i=(e,t,r)=>new Proxy(t,{apply:(t,s,n)=>r.call(s,e,...n)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const g=(e,t={},r={})=>{let s=Object.create(null),l={has:(t,r)=>r in e||r in s,get(l,h,m){if(h in s)return s[h];if(!(h in e))return;let c=e[h];if("function"==typeof c)if("function"==typeof t[h])c=i(e,e[h],t[h]);else if(o(r,h)){let t=((e,t)=>function(r,...s){if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((a,i)=>{if(t.fallbackToNoCallback)try{r[e](...s,n({resolve:a,reject:i},t))}catch(n){console.warn(e+" API method doesn't seem to support the callback parameter, falling back to call it without a callback: ",n),r[e](...s),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(r[e](...s),a()):r[e](...s,n({resolve:a,reject:i},t))})})(h,r[h]);c=i(e,e[h],t)}else c=c.bind(e);else{if("object"!=typeof c||null===c||!o(t,h)&&!o(r,h))return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:()=>e[h],set(t){e[h]=t}}),c;c=g(c,t[h],r[h])}return s[h]=c,c},set:(t,r,n,a)=>(r in s?s[r]=n:e[r]=n,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(s,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(s,t)},h=Object.create(e);return new Proxy(h,l)},l=e=>({addListener(t,r,...s){t.addListener(e.get(r),...s)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}});let h=!1;const m=new s(e=>"function"!=typeof e?e:function(t,s,n){let a,i,o=!1,g=new Promise(e=>{a=function(t){h||(console.warn(r,(new Error).stack),h=!0),o=!0,e(t)}});try{i=e(t,s,a)}catch(e){i=Promise.reject(e)}const l=!0!==i&&(m=i)&&"object"==typeof m&&"function"==typeof m.then;var m;if(!0!==i&&!l&&!o)return!1;const c=e=>{e.then(e=>{n(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return c(l?i:g),!0}),c=({reject:e,resolve:r},s)=>{chrome.runtime.lastError?chrome.runtime.lastError.message===t?r():e(chrome.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?e(new Error(s.message)):r(s)},u=(e,t,r,...s)=>{if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise((e,t)=>{const n=c.bind(null,{resolve:e,reject:t});s.push(n),r.sendMessage(...s)})},f={runtime:{onMessage:l(m),onMessageExternal:l(m),sendMessage:u.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:u.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},A={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return e.privacy={network:{networkPredictionEnabled:A,webRTCIPHandlingPolicy:A},services:{passwordSavingEnabled:A},websites:{hyperlinkAuditingEnabled:A,referrersEnabled:A}},g(chrome,f,e)};e.exports=s()}else e.exports=browser})?s.apply(t,n):s)||(e.exports=a)},,,function(e,t,r){!function(e){"use strict";function t(e){if(0===e.length)return 0;for(var t,r=e[0],s=0,n=1;n<e.length;n++)t=r+e[n],Math.abs(r)>=Math.abs(e[n])?s+=r-t+e[n]:s+=e[n]-t+r,r=t;return r+s}function r(e){if(0===e.length)throw new Error("mean requires at least one data point");return t(e)/e.length}function s(e,t){var s,n,a=r(e),i=0;if(2===t)for(n=0;n<e.length;n++)i+=(s=e[n]-a)*s;else for(n=0;n<e.length;n++)i+=Math.pow(e[n]-a,t);return i}function n(e){if(0===e.length)throw new Error("variance requires at least one data point");return s(e,2)/e.length}function a(e){if(1===e.length)return 0;var t=n(e);return Math.sqrt(t)}function i(e){if(0===e.length)throw new Error("mode requires at least one data point");if(1===e.length)return e[0];for(var t=e[0],r=NaN,s=0,n=1,a=1;a<e.length+1;a++)e[a]!==t?(n>s&&(s=n,r=t),n=1,t=e[a]):n++;return r}function o(e){return e.slice().sort((function(e,t){return e-t}))}function g(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t}function l(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t}function h(e,t){var r=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:r%1!=0?e[Math.ceil(r)-1]:e.length%2==0?(e[r-1]+e[r])/2:e[r]}function m(e,t,r,s){for(r=r||0,s=s||e.length-1;s>r;){if(s-r>600){var n=s-r+1,a=t-r+1,i=Math.log(n),o=.5*Math.exp(2*i/3),g=.5*Math.sqrt(i*o*(n-o)/n);a-n/2<0&&(g*=-1),m(e,t,Math.max(r,Math.floor(t-a*o/n+g)),Math.min(s,Math.floor(t+(n-a)*o/n+g)))}var l=e[t],h=r,u=s;for(c(e,r,t),e[s]>l&&c(e,r,s);h<u;){for(c(e,h,u),h++,u--;e[h]<l;)h++;for(;e[u]>l;)u--}e[r]===l?c(e,r,u):c(e,++u,s),u<=t&&(r=u+1),t<=u&&(s=u-1)}}function c(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function u(e,t){var r=e.slice();if(Array.isArray(t)){!function(e,t){for(var r=[0],s=0;s<t.length;s++)r.push(p(e.length,t[s]));r.push(e.length-1),r.sort(A);for(var n=[0,r.length-1];n.length;){var a=Math.ceil(n.pop()),i=Math.floor(n.pop());if(!(a-i<=1)){var o=Math.floor((i+a)/2);f(e,r[o],Math.floor(r[i]),Math.ceil(r[a])),n.push(i,o,o,a)}}}(r,t);for(var s=[],n=0;n<t.length;n++)s[n]=h(r,t[n]);return s}return f(r,p(r.length,t),0,r.length-1),h(r,t)}function f(e,t,r,s){t%1==0?m(e,t,r,s):(m(e,t=Math.floor(t),r,s),m(e,t+1,t+1,s))}function A(e,t){return e-t}function p(e,t){var r=e*t;return 1===t?e-1:0===t?0:r%1!=0?Math.ceil(r)-1:e%2==0?r-.5:r}function d(e,t){if(t<e[0])return 0;if(t>e[e.length-1])return 1;var r=function(e,t){for(var r=0,s=0,n=e.length;s<n;)t<=e[r=s+n>>>1]?n=r:s=-~r;return s}(e,t);if(e[r]!==t)return r/e.length;r++;var s=function(e,t){for(var r=0,s=0,n=e.length;s<n;)t>=e[r=s+n>>>1]?s=-~r:n=r;return s}(e,t);if(s===r)return r/e.length;var n=s-r+1;return n*(s+r)/2/n/e.length}function _(e){var t=u(e,.75),r=u(e,.25);if("number"==typeof t&&"number"==typeof r)return t-r}function v(e){return+u(e,.5)}function x(e){for(var t=v(e),r=[],s=0;s<e.length;s++)r.push(Math.abs(e[s]-t));return v(r)}function w(e,t){t=t||Math.random;for(var r,s,n=e.length;n>0;)s=Math.floor(t()*n--),r=e[n],e[n]=e[s],e[s]=r;return e}function H(e,t){return w(e.slice().slice(),t)}function M(e){for(var t,r=0,s=0;s<e.length;s++)0!==s&&e[s]===t||(t=e[s],r++);return r}function b(e,t){for(var r=[],s=0;s<e;s++){for(var n=[],a=0;a<t;a++)n.push(0);r.push(n)}return r}function I(e,t,r,s){var n;if(e>0){var a=(r[t]-r[e-1])/(t-e+1);n=s[t]-s[e-1]-(t-e+1)*a*a}else n=s[t]-r[t]*r[t]/(t+1);return n<0?0:n}function y(e,t,r,s,n,a,i){if(!(e>t)){var o=Math.floor((e+t)/2);s[r][o]=s[r-1][o-1],n[r][o]=o;var g=r;e>r&&(g=Math.max(g,n[r][e-1]||0)),g=Math.max(g,n[r-1][o]||0);var l,h,m,c=o-1;t<s.length-1&&(c=Math.min(c,n[r][t+1]||0));for(var u=c;u>=g&&!((l=I(u,o,a,i))+s[r-1][g-1]>=s[r][o]);--u)(h=I(g,o,a,i)+s[r-1][g-1])<s[r][o]&&(s[r][o]=h,n[r][o]=g),g++,(m=l+s[r-1][u-1])<s[r][o]&&(s[r][o]=m,n[r][o]=u);y(e,o-1,r,s,n,a,i),y(o+1,t,r,s,n,a,i)}}function O(e,t){if(e.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var s=r(e),n=r(t),a=0,i=0;i<e.length;i++)a+=(e[i]-s)*(t[i]-n);return a/(e.length-1)}function B(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");return s(e,2)/(e.length-1)}function k(e){var t=B(e);return Math.sqrt(t)}function C(e,t,r,s){return(e*t+r*s)/(t+s)}function E(e){if(0===e.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,r=0;r<e.length;r++)t+=Math.pow(e[r],2);return Math.sqrt(t/e.length)}var T=function(){this.totalCount=0,this.data={}};T.prototype.train=function(e,t){for(var r in this.data[t]||(this.data[t]={}),e){var s=e[r];void 0===this.data[t][r]&&(this.data[t][r]={}),void 0===this.data[t][r][s]&&(this.data[t][r][s]=0),this.data[t][r][s]++}this.totalCount++},T.prototype.score=function(e){var t,r={};for(var s in e){var n=e[s];for(t in this.data)r[t]={},this.data[t][s]?r[t][s+"_"+n]=(this.data[t][s][n]||0)/this.totalCount:r[t][s+"_"+n]=0}var a={};for(t in r)for(var i in a[t]=0,r[t])a[t]+=r[t][i];return a};var K=function(){this.weights=[],this.bias=0};function P(e){if(e<0)throw new Error("factorial requires a non-negative value");if(Math.floor(e)!==e)throw new Error("factorial requires an integer input");for(var t=1,r=2;r<=e;r++)t*=r;return t}K.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var t=0,r=0;r<this.weights.length;r++)t+=this.weights[r]*e[r];return(t+=this.bias)>0?1:0},K.prototype.train=function(e,t){if(0!==t&&1!==t)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var r=this.predict(e);if("number"==typeof r&&r!==t){for(var s=t-r,n=0;n<this.weights.length;n++)this.weights[n]+=s*e[n];this.bias+=s}return this};var q=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],S=Math.log(Math.sqrt(2*Math.PI)),U={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},N=Math.sqrt(2*Math.PI),W={gaussian:function(e){return Math.exp(-.5*e*e)/N}},j={nrd:function(e){var t=k(e),r=_(e);return"number"==typeof r&&(t=Math.min(t,r/1.34)),1.06*t*Math.pow(e.length,-.2)}};function Q(e,t,r){var s,n;if(void 0===t)s=W.gaussian;else if("string"==typeof t){if(!W[t])throw new Error('Unknown kernel "'+t+'"');s=W[t]}else s=t;if(void 0===r)n=j.nrd(e);else if("string"==typeof r){if(!j[r])throw new Error('Unknown bandwidth method "'+r+'"');n=j[r](e)}else n=r;return function(t){var r=0,a=0;for(r=0;r<e.length;r++)a+=s((t-e[r])/n);return a/n/e.length}}var L=Math.sqrt(2*Math.PI);function R(e){for(var t=e,r=e,s=1;s<15;s++)t+=r*=e*e/(2*s+1);return Math.round(1e4*(.5+t/L*Math.exp(-e*e/2)))/1e4}for(var D=[],F=0;F<=3.09;F+=.01)D.push(R(F));function $(e){var t=1/(1+.5*Math.abs(e)),r=t*Math.exp(-e*e+((((((((.17087277*t-.82215223)*t+1.48851587)*t-1.13520398)*t+.27886807)*t-.18628806)*t+.09678418)*t+.37409196)*t+1.00002368)*t-1.26551223);return e>=0?1-r:r-1}function z(e){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-e*e)/2,2)-Math.log(1-e*e)/t)-(2/(Math.PI*t)+Math.log(1-e*e)/2));return e>=0?r:-r}function V(e){if("number"==typeof e)return e<0?-1:0===e?0:1;throw new TypeError("not a number")}e.BayesianClassifier=T,e.PerceptronModel=K,e.addToMean=function(e,t,r){return e+(r-e)/(t+1)},e.average=r,e.bayesian=T,e.bernoulliDistribution=function(e){if(e<0||e>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-e,e]},e.binomialDistribution=function(e,t){if(!(t<0||t>1||e<=0||e%1!=0)){var r=0,s=0,n=[],a=1;do{n[r]=a*Math.pow(t,r)*Math.pow(1-t,e-r),s+=n[r],a=a*(e-++r+1)/r}while(s<.9999);return n}},e.bisect=function(e,t,r,s,n){if("function"!=typeof e)throw new TypeError("func must be a function");for(var a=0;a<s;a++){var i=(t+r)/2;if(0===e(i)||Math.abs((r-t)/2)<n)return i;V(e(i))===V(e(t))?t=i:r=i}throw new Error("maximum number of iterations exceeded")},e.chiSquaredDistributionTable=U,e.chiSquaredGoodnessOfFit=function(e,t,s){for(var n=0,a=t(r(e)),i=[],o=[],g=0;g<e.length;g++)void 0===i[e[g]]&&(i[e[g]]=0),i[e[g]]++;for(var l=0;l<i.length;l++)void 0===i[l]&&(i[l]=0);for(var h in a)h in i&&(o[+h]=a[h]*e.length);for(var m=o.length-1;m>=0;m--)o[m]<3&&(o[m-1]+=o[m],o.pop(),i[m-1]+=i[m],i.pop());for(var c=0;c<i.length;c++)n+=Math.pow(i[c]-o[c],2)/o[c];var u=i.length-1-1;return U[u][s]<n},e.chunk=function(e,t){var r=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var s=0;s<e.length;s+=t)r.push(e.slice(s,s+t));return r},e.ckmeans=function(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var r=o(e);if(1===M(r))return[r];var s=b(t,r.length),n=b(t,r.length);!function(e,t,r){for(var s=t[0].length,n=e[Math.floor(s/2)],a=[],i=[],o=0,g=void 0;o<s;++o)g=e[o]-n,0===o?(a.push(g),i.push(g*g)):(a.push(a[o-1]+g),i.push(i[o-1]+g*g)),t[0][o]=I(0,o,a,i),r[0][o]=0;for(var l=1;l<t.length;++l)y(l<t.length-1?l:s-1,s-1,l,t,r,a,i)}(r,s,n);for(var a=[],i=n[0].length-1,g=n.length-1;g>=0;g--){var l=n[g][i];a[g]=r.slice(l,i+1),g>0&&(i=l-1)}return a},e.combinations=function e(t,r){var s,n,a,i,o=[];for(s=0;s<t.length;s++)if(1===r)o.push([t[s]]);else for(a=e(t.slice(s+1,t.length),r-1),n=0;n<a.length;n++)(i=a[n]).unshift(t[s]),o.push(i);return o},e.combinationsReplacement=function e(t,r){for(var s=[],n=0;n<t.length;n++)if(1===r)s.push([t[n]]);else for(var a=e(t.slice(n,t.length),r-1),i=0;i<a.length;i++)s.push([t[n]].concat(a[i]));return s},e.combineMeans=C,e.combineVariances=function(e,t,r,s,n,a){var i=C(t,r,n,a);return(r*(e+Math.pow(t-i,2))+a*(s+Math.pow(n-i,2)))/(r+a)},e.cumulativeStdNormalProbability=function(e){var t=Math.abs(e),r=Math.min(Math.round(100*t),D.length-1);return e>=0?D[r]:+(1-D[r]).toFixed(4)},e.epsilon=1e-4,e.equalIntervalBreaks=function(e,t){if(e.length<2)return e;for(var r=g(e),s=l(e),n=[r],a=(s-r)/t,i=1;i<t;i++)n.push(n[0]+a*i);return n.push(s),n},e.erf=$,e.errorFunction=$,e.extent=function(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],r=e[0],s=1;s<e.length;s++)e[s]>r&&(r=e[s]),e[s]<t&&(t=e[s]);return[t,r]},e.extentSorted=function(e){return[e[0],e[e.length-1]]},e.factorial=P,e.gamma=function e(t){if(Number.isInteger(t))return t<=0?NaN:P(t-1);if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*e(-t));var r=t+1/4;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},e.gammaln=function(e){if(e<=0)return 1/0;e--;for(var t=q[0],r=1;r<15;r++)t+=q[r]/(e+r);var s=5.2421875+e;return S+Math.log(t)-s+(e+.5)*Math.log(s)},e.geometricMean=function(e){if(0===e.length)throw new Error("geometricMean requires at least one data point");for(var t=1,r=0;r<e.length;r++){if(e[r]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=e[r]}return Math.pow(t,1/e.length)},e.harmonicMean=function(e){if(0===e.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,r=0;r<e.length;r++){if(e[r]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/e[r]}return e.length/t},e.interquartileRange=_,e.inverseErrorFunction=z,e.iqr=_,e.kde=Q,e.kernelDensityEstimation=Q,e.linearRegression=function(e){var t,r,s=e.length;if(1===s)t=0,r=e[0][1];else{for(var n,a,i,o=0,g=0,l=0,h=0,m=0;m<s;m++)o+=a=(n=e[m])[0],g+=i=n[1],l+=a*a,h+=a*i;r=g/s-(t=(s*h-o*g)/(s*l-o*o))*o/s}return{m:t,b:r}},e.linearRegressionLine=function(e){return function(t){return e.b+e.m*t}},e.mad=x,e.max=l,e.maxSorted=function(e){return e[e.length-1]},e.mean=r,e.median=v,e.medianAbsoluteDeviation=x,e.medianSorted=function(e){return h(e,.5)},e.min=g,e.minSorted=function(e){return e[0]},e.mode=function(e){return i(o(e))},e.modeFast=function(e){for(var t,r=new Map,s=0,n=0;n<e.length;n++){var a=r.get(e[n]);void 0===a?a=1:a++,a>s&&(t=e[n],s=a),r.set(e[n],a)}if(0===s)throw new Error("mode requires at last one data point");return t},e.modeSorted=i,e.numericSort=o,e.perceptron=K,e.permutationTest=function(e,t,s,n){if(void 0===n&&(n=1e4),void 0===s&&(s="two_side"),"two_side"!==s&&"greater"!==s&&"less"!==s)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var a=r(e)-r(t),i=new Array(n),o=e.concat(t),g=Math.floor(o.length/2),l=0;l<n;l++){w(o);var h=o.slice(0,g),m=o.slice(g,o.length),c=r(h)-r(m);i[l]=c}var u=0;if("two_side"===s)for(var f=0;f<=n;f++)Math.abs(i[f])>=Math.abs(a)&&(u+=1);else if("greater"===s)for(var A=0;A<=n;A++)i[A]>=a&&(u+=1);else for(var p=0;p<=n;p++)i[p]<=a&&(u+=1);return u/n},e.permutationsHeap=function(e){for(var t=new Array(e.length),r=[e.slice()],s=0;s<e.length;s++)t[s]=0;for(var n=0;n<e.length;)if(t[n]<n){var a=0;n%2!=0&&(a=t[n]);var i=e[a];e[a]=e[n],e[n]=i,r.push(e.slice()),t[n]++,n=0}else t[n]=0,n++;return r},e.poissonDistribution=function(e){if(!(e<=0)){var t=0,r=0,s=[],n=1;do{s[t]=Math.exp(-e)*Math.pow(e,t)/n,r+=s[t],n*=++t}while(r<.9999);return s}},e.probit=function(e){return 0===e?e=1e-4:e>=1&&(e=.9999),Math.sqrt(2)*z(2*e-1)},e.product=function(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t},e.quantile=u,e.quantileRank=function(e,t){return d(o(e),t)},e.quantileRankSorted=d,e.quantileSorted=h,e.quickselect=m,e.rSquared=function(e,t){if(e.length<2)return 1;for(var r=0,s=0;s<e.length;s++)r+=e[s][1];for(var n=r/e.length,a=0,i=0;i<e.length;i++)a+=Math.pow(n-e[i][1],2);for(var o=0,g=0;g<e.length;g++)o+=Math.pow(e[g][1]-t(e[g][0]),2);return 1-o/a},e.rms=E,e.rootMeanSquare=E,e.sample=function(e,t,r){return H(e,r).slice(0,t)},e.sampleCorrelation=function(e,t){return O(e,t)/k(e)/k(t)},e.sampleCovariance=O,e.sampleKurtosis=function(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var s,n=r(e),a=0,i=0,o=0;o<t;o++)a+=(s=e[o]-n)*s,i+=s*s*s*s;return(t-1)/((t-2)*(t-3))*(t*(t+1)*i/(a*a)-3*(t-1))},e.sampleSkewness=function(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,s=r(e),n=0,a=0,i=0;i<e.length;i++)n+=(t=e[i]-s)*t,a+=t*t*t;var o=e.length-1,g=Math.sqrt(n/o),l=e.length;return l*a/((l-1)*(l-2)*Math.pow(g,3))},e.sampleStandardDeviation=k,e.sampleVariance=B,e.sampleWithReplacement=function(e,t,r){if(0===e.length)return[];r=r||Math.random;for(var s=e.length,n=[],a=0;a<t;a++){var i=Math.floor(r()*s);n.push(e[i])}return n},e.shuffle=H,e.shuffleInPlace=w,e.sign=V,e.standardDeviation=a,e.standardNormalTable=D,e.subtractFromMean=function(e,t,r){return(e*t-r)/(t-1)},e.sum=t,e.sumNthPowerDeviations=s,e.sumSimple=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t},e.tTest=function(e,t){return(r(e)-t)/(a(e)/Math.sqrt(e.length))},e.tTestTwoSample=function(e,t,s){var n=e.length,a=t.length;if(!n||!a)return null;s||(s=0);var i=r(e),o=r(t),g=B(e),l=B(t);if("number"==typeof i&&"number"==typeof o&&"number"==typeof g&&"number"==typeof l){var h=((n-1)*g+(a-1)*l)/(n+a-2);return(i-o-s)/Math.sqrt(h*(1/n+1/a))}},e.uniqueCountSorted=M,e.variance=n,e.zScore=function(e,t,r){return(e-t)/r},Object.defineProperty(e,"__esModule",{value:!0})}(t)},,,,,function(e,t){function r(){var e={"[一二三四五六七八九十百千万億兆]":"M","[一-龠々〆ヵヶ]":"H","[ぁ-ん]":"I","[ァ-ヴーｱ-ﾝﾞｰ]":"K","[a-zA-Zａ-ｚＡ-Ｚ]":"A","[0-9０-９]":"N"};for(var t in this.chartype_=[],e){var r=new RegExp;r.compile(t),this.chartype_.push([r,e[t]])}return this.BIAS__=-332,this.BC1__={HH:6,II:2461,KH:406,OH:-1378},this.BC2__={AA:-3267,AI:2744,AN:-878,HH:-4070,HM:-1711,HN:4012,HO:3761,IA:1327,IH:-1184,II:-1332,IK:1721,IO:5492,KI:3831,KK:-8741,MH:-3132,MK:3334,OO:-2920},this.BC3__={HH:996,HI:626,HK:-721,HN:-1307,HO:-836,IH:-301,KK:2762,MK:1079,MM:4034,OA:-1652,OH:266},this.BP1__={BB:295,OB:304,OO:-125,UB:352},this.BP2__={BO:60,OO:-1762},this.BQ1__={BHH:1150,BHM:1521,BII:-1158,BIM:886,BMH:1208,BNH:449,BOH:-91,BOO:-2597,OHI:451,OIH:-296,OKA:1851,OKH:-1020,OKK:904,OOO:2965},this.BQ2__={BHH:118,BHI:-1159,BHM:466,BIH:-919,BKK:-1720,BKO:864,OHH:-1139,OHM:-181,OIH:153,UHI:-1146},this.BQ3__={BHH:-792,BHI:2664,BII:-299,BKI:419,BMH:937,BMM:8335,BNN:998,BOH:775,OHH:2174,OHM:439,OII:280,OKH:1798,OKI:-793,OKO:-2242,OMH:-2402,OOO:11699},this.BQ4__={BHH:-3895,BIH:3761,BII:-4654,BIK:1348,BKK:-1806,BMI:-3385,BOO:-12396,OAH:926,OHH:266,OHK:-2036,ONN:-973},this.BW1__={",と":660,",同":727,B1あ:1404,B1同:542,"、と":660,"、同":727,"」と":1682,あっ:1505,いう:1743,いっ:-2055,いる:672,うし:-4817,うん:665,から:3472,がら:600,こう:-790,こと:2083,こん:-1262,さら:-4143,さん:4573,した:2641,して:1104,すで:-3399,そこ:1977,それ:-871,たち:1122,ため:601,った:3463,つい:-802,てい:805,てき:1249,でき:1127,です:3445,では:844,とい:-4915,とみ:1922,どこ:3887,ない:5713,なっ:3015,など:7379,なん:-1113,にし:2468,には:1498,にも:1671,に対:-912,の一:-501,の中:741,ませ:2448,まで:1711,まま:2600,まる:-2155,やむ:-1947,よっ:-2565,れた:2369,れで:-913,をし:1860,を見:731,亡く:-1886,京都:2558,取り:-2784,大き:-2604,大阪:1497,平方:-2314,引き:-1336,日本:-195,本当:-2423,毎日:-2113,目指:-724,Ｂ１あ:1404,Ｂ１同:542,"｣と":1682},this.BW2__={"..":-11822,11:-669,"――":-5730,"−−":-13175,いう:-1609,うか:2490,かし:-1350,かも:-602,から:-7194,かれ:4612,がい:853,がら:-3198,きた:1941,くな:-1597,こと:-8392,この:-4193,させ:4533,され:13168,さん:-3977,しい:-1819,しか:-545,した:5078,して:972,しな:939,その:-3744,たい:-1253,たた:-662,ただ:-3857,たち:-786,たと:1224,たは:-939,った:4589,って:1647,っと:-2094,てい:6144,てき:3640,てく:2551,ては:-3110,ても:-3065,でい:2666,でき:-1528,でし:-3828,です:-4761,でも:-4203,とい:1890,とこ:-1746,とと:-2279,との:720,とみ:5168,とも:-3941,ない:-2488,なが:-1313,など:-6509,なの:2614,なん:3099,にお:-1615,にし:2748,にな:2454,によ:-7236,に対:-14943,に従:-4688,に関:-11388,のか:2093,ので:-7059,のに:-6041,のの:-6125,はい:1073,はが:-1033,はず:-2532,ばれ:1813,まし:-1316,まで:-6621,まれ:5409,めて:-3153,もい:2230,もの:-10713,らか:-944,らし:-1611,らに:-1897,りし:651,りま:1620,れた:4270,れて:849,れば:4114,ろう:6067,われ:7901,を通:-11877,んだ:728,んな:-4115,一人:602,一方:-1375,一日:970,一部:-1051,上が:-4479,会社:-1116,出て:2163,分の:-7758,同党:970,同日:-913,大阪:-2471,委員:-1250,少な:-1050,年度:-8669,年間:-1626,府県:-2363,手権:-1982,新聞:-4066,日新:-722,日本:-7068,日米:3372,曜日:-601,朝鮮:-2355,本人:-2697,東京:-1543,然と:-1384,社会:-1276,立て:-990,第に:-1612,米国:-4268,"１１":-669},this.BW3__={あた:-2194,あり:719,ある:3846,"い.":-1185,"い。":-1185,いい:5308,いえ:2079,いく:3029,いた:2056,いっ:1883,いる:5600,いわ:1527,うち:1117,うと:4798,えと:1454,"か.":2857,"か。":2857,かけ:-743,かっ:-4098,かに:-669,から:6520,かり:-2670,"が,":1816,"が、":1816,がき:-4855,がけ:-1127,がっ:-913,がら:-4977,がり:-2064,きた:1645,けど:1374,こと:7397,この:1542,ころ:-2757,さい:-714,さを:976,"し,":1557,"し、":1557,しい:-3714,した:3562,して:1449,しな:2608,しま:1200,"す.":-1310,"す。":-1310,する:6521,"ず,":3426,"ず、":3426,ずに:841,そう:428,"た.":8875,"た。":8875,たい:-594,たの:812,たり:-1183,たる:-853,"だ.":4098,"だ。":4098,だっ:1004,った:-4748,って:300,てい:6240,てお:855,ても:302,です:1437,でに:-1482,では:2295,とう:-1387,とし:2266,との:541,とも:-3543,どう:4664,ない:1796,なく:-903,など:2135,"に,":-1021,"に、":-1021,にし:1771,にな:1906,には:2644,"の,":-724,"の、":-724,の子:-1e3,"は,":1337,"は、":1337,べき:2181,まし:1113,ます:6943,まっ:-1549,まで:6154,まれ:-793,らし:1479,られ:6820,るる:3818,"れ,":854,"れ、":854,れた:1850,れて:1375,れば:-3246,れる:1091,われ:-605,んだ:606,んで:798,カ月:990,会議:860,入り:1232,大会:2217,始め:1681,市:965,新聞:-5055,"日,":974,"日、":974,社会:2024,ｶ月:990},this.TC1__={AAA:1093,HHH:1029,HHM:580,HII:998,HOH:-390,HOM:-331,IHI:1169,IOH:-142,IOI:-1015,IOM:467,MMH:187,OOI:-1832},this.TC2__={HHO:2088,HII:-1023,HMM:-1154,IHI:-1965,KKH:703,OII:-2649},this.TC3__={AAA:-294,HHH:346,HHI:-341,HII:-1088,HIK:731,HOH:-1486,IHH:128,IHI:-3041,IHO:-1935,IIH:-825,IIM:-1035,IOI:-542,KHH:-1216,KKA:491,KKH:-1217,KOK:-1009,MHH:-2694,MHM:-457,MHO:123,MMH:-471,NNH:-1689,NNO:662,OHO:-3393},this.TC4__={HHH:-203,HHI:1344,HHK:365,HHM:-122,HHN:182,HHO:669,HIH:804,HII:679,HOH:446,IHH:695,IHO:-2324,IIH:321,III:1497,IIO:656,IOO:54,KAK:4845,KKA:3386,KKK:3065,MHH:-405,MHI:201,MMH:-241,MMM:661,MOM:841},this.TQ1__={BHHH:-227,BHHI:316,BHIH:-132,BIHH:60,BIII:1595,BNHH:-744,BOHH:225,BOOO:-908,OAKK:482,OHHH:281,OHIH:249,OIHI:200,OIIH:-68},this.TQ2__={BIHH:-1401,BIII:-1033,BKAK:-543,BOOO:-5591},this.TQ3__={BHHH:478,BHHM:-1073,BHIH:222,BHII:-504,BIIH:-116,BIII:-105,BMHI:-863,BMHM:-464,BOMH:620,OHHH:346,OHHI:1729,OHII:997,OHMH:481,OIHH:623,OIIH:1344,OKAK:2792,OKHH:587,OKKA:679,OOHH:110,OOII:-685},this.TQ4__={BHHH:-721,BHHM:-3604,BHII:-966,BIIH:-607,BIII:-2181,OAAA:-2763,OAKK:180,OHHH:-294,OHHI:2446,OHHO:480,OHIH:-1573,OIHH:1935,OIHI:-493,OIIH:626,OIII:-4007,OKAK:-8156},this.TW1__={につい:-4681,東京都:2026},this.TW2__={ある程:-2049,いった:-1256,ころが:-2434,しょう:3873,その後:-4430,だって:-1049,ていた:1833,として:-4657,ともに:-4517,もので:1882,一気に:-792,初めて:-1512,同時に:-8097,大きな:-1255,対して:-2721,社会党:-3216},this.TW3__={いただ:-1734,してい:1314,として:-4314,につい:-5483,にとっ:-5989,に当た:-6247,"ので,":-727,"ので、":-727,のもの:-600,れから:-3752,十二月:-2287},this.TW4__={"いう.":8576,"いう。":8576,からな:-2348,してい:2958,"たが,":1516,"たが、":1516,ている:1538,という:1349,ました:5543,ません:1097,ようと:-4258,よると:5865},this.UC1__={A:484,K:93,M:645,O:-505},this.UC2__={A:819,H:1059,I:409,M:3987,N:5775,O:646},this.UC3__={A:-1370,I:2311},this.UC4__={A:-2643,H:1809,I:-1032,K:-3450,M:3565,N:3876,O:6646},this.UC5__={H:313,I:-1238,K:-799,M:539,O:-831},this.UC6__={H:-506,I:-253,K:87,M:247,O:-387},this.UP1__={O:-214},this.UP2__={B:69,O:935},this.UP3__={B:189},this.UQ1__={BH:21,BI:-12,BK:-99,BN:142,BO:-56,OH:-95,OI:477,OK:410,OO:-2422},this.UQ2__={BH:216,BI:113,OK:1759},this.UQ3__={BA:-479,BH:42,BI:1913,BK:-7198,BM:3160,BN:6427,BO:14761,OI:-827,ON:-3212},this.UW1__={",":156,"、":156,"「":-463,あ:-941,う:-127,が:-553,き:121,こ:505,で:-201,と:-547,ど:-123,に:-789,の:-185,は:-847,も:-466,や:-470,よ:182,ら:-292,り:208,れ:169,を:-446,ん:-137,"・":-135,主:-402,京:-268,区:-912,午:871,国:-460,大:561,委:729,市:-411,日:-141,理:361,生:-408,県:-386,都:-718,"｢":-463,"･":-135},this.UW2__={",":-829,"、":-829,〇:892,"「":-645,"」":3145,あ:-538,い:505,う:134,お:-502,か:1454,が:-856,く:-412,こ:1141,さ:878,ざ:540,し:1529,す:-675,せ:300,そ:-1011,た:188,だ:1837,つ:-949,て:-291,で:-268,と:-981,ど:1273,な:1063,に:-1764,の:130,は:-409,ひ:-1273,べ:1261,ま:600,も:-1263,や:-402,よ:1639,り:-579,る:-694,れ:571,を:-2516,ん:2095,ア:-587,カ:306,キ:568,ッ:831,三:-758,不:-2150,世:-302,中:-968,主:-861,事:492,人:-123,会:978,保:362,入:548,初:-3025,副:-1566,北:-3414,区:-422,大:-1769,天:-865,太:-483,子:-1519,学:760,実:1023,小:-2009,市:-813,年:-1060,強:1067,手:-1519,揺:-1033,政:1522,文:-1355,新:-1682,日:-1815,明:-1462,最:-630,朝:-1843,本:-1650,東:-931,果:-665,次:-2378,民:-180,気:-1740,理:752,発:529,目:-1584,相:-242,県:-1165,立:-763,第:810,米:509,自:-1353,行:838,西:-744,見:-3874,調:1010,議:1198,込:3041,開:1758,間:-1257,"｢":-645,"｣":3145,ｯ:831,ｱ:-587,ｶ:306,ｷ:568},this.UW3__={",":4889,1:-800,"−":-1723,"、":4889,々:-2311,〇:5827,"」":2670,"〓":-3573,あ:-2696,い:1006,う:2342,え:1983,お:-4864,か:-1163,が:3271,く:1004,け:388,げ:401,こ:-3552,ご:-3116,さ:-1058,し:-395,す:584,せ:3685,そ:-5228,た:842,ち:-521,っ:-1444,つ:-1081,て:6167,で:2318,と:1691,ど:-899,な:-2788,に:2745,の:4056,は:4555,ひ:-2171,ふ:-1798,へ:1199,ほ:-5516,ま:-4384,み:-120,め:1205,も:2323,や:-788,よ:-202,ら:727,り:649,る:5905,れ:2773,わ:-1207,を:6620,ん:-518,ア:551,グ:1319,ス:874,ッ:-1350,ト:521,ム:1109,ル:1591,ロ:2201,ン:278,"・":-3794,一:-1619,下:-1759,世:-2087,両:3815,中:653,主:-758,予:-1193,二:974,人:2742,今:792,他:1889,以:-1368,低:811,何:4265,作:-361,保:-2439,元:4858,党:3593,全:1574,公:-3030,六:755,共:-1880,円:5807,再:3095,分:457,初:2475,別:1129,前:2286,副:4437,力:365,動:-949,務:-1872,化:1327,北:-1038,区:4646,千:-2309,午:-783,協:-1006,口:483,右:1233,各:3588,合:-241,同:3906,和:-837,員:4513,国:642,型:1389,場:1219,外:-241,妻:2016,学:-1356,安:-423,実:-1008,家:1078,小:-513,少:-3102,州:1155,市:3197,平:-1804,年:2416,広:-1030,府:1605,度:1452,建:-2352,当:-3885,得:1905,思:-1291,性:1822,戸:-488,指:-3973,政:-2013,教:-1479,数:3222,文:-1489,新:1764,日:2099,旧:5792,昨:-661,時:-1248,曜:-951,最:-937,月:4125,期:360,李:3094,村:364,東:-805,核:5156,森:2438,業:484,氏:2613,民:-1694,決:-1073,法:1868,海:-495,無:979,物:461,特:-3850,生:-273,用:914,町:1215,的:7313,直:-1835,省:792,県:6293,知:-1528,私:4231,税:401,立:-960,第:1201,米:7767,系:3066,約:3663,級:1384,統:-4229,総:1163,線:1255,者:6457,能:725,自:-2869,英:785,見:1044,調:-562,財:-733,費:1777,車:1835,軍:1375,込:-1504,通:-1136,選:-681,郎:1026,郡:4404,部:1200,金:2163,長:421,開:-1432,間:1302,関:-1282,雨:2009,電:-1045,非:2066,駅:1620,"１":-800,"｣":2670,"･":-3794,ｯ:-1350,ｱ:551,ｸﾞ:1319,ｽ:874,ﾄ:521,ﾑ:1109,ﾙ:1591,ﾛ:2201,ﾝ:278},this.UW4__={",":3930,".":3508,"―":-4841,"、":3930,"。":3508,〇:4999,"「":1895,"」":3798,"〓":-5156,あ:4752,い:-3435,う:-640,え:-2514,お:2405,か:530,が:6006,き:-4482,ぎ:-3821,く:-3788,け:-4376,げ:-4734,こ:2255,ご:1979,さ:2864,し:-843,じ:-2506,す:-731,ず:1251,せ:181,そ:4091,た:5034,だ:5408,ち:-3654,っ:-5882,つ:-1659,て:3994,で:7410,と:4547,な:5433,に:6499,ぬ:1853,ね:1413,の:7396,は:8578,ば:1940,ひ:4249,び:-4134,ふ:1345,へ:6665,べ:-744,ほ:1464,ま:1051,み:-2082,む:-882,め:-5046,も:4169,ゃ:-2666,や:2795,ょ:-1544,よ:3351,ら:-2922,り:-9726,る:-14896,れ:-2613,ろ:-4570,わ:-1783,を:13150,ん:-2352,カ:2145,コ:1789,セ:1287,ッ:-724,ト:-403,メ:-1635,ラ:-881,リ:-541,ル:-856,ン:-3637,"・":-4371,ー:-11870,一:-2069,中:2210,予:782,事:-190,井:-1768,人:1036,以:544,会:950,体:-1286,作:530,側:4292,先:601,党:-2006,共:-1212,内:584,円:788,初:1347,前:1623,副:3879,力:-302,動:-740,務:-2715,化:776,区:4517,協:1013,参:1555,合:-1834,和:-681,員:-910,器:-851,回:1500,国:-619,園:-1200,地:866,場:-1410,塁:-2094,士:-1413,多:1067,大:571,子:-4802,学:-1397,定:-1057,寺:-809,小:1910,屋:-1328,山:-1500,島:-2056,川:-2667,市:2771,年:374,庁:-4556,後:456,性:553,感:916,所:-1566,支:856,改:787,政:2182,教:704,文:522,方:-856,日:1798,時:1829,最:845,月:-9066,木:-485,来:-442,校:-360,業:-1043,氏:5388,民:-2716,気:-910,沢:-939,済:-543,物:-735,率:672,球:-1267,生:-1286,産:-1101,田:-2900,町:1826,的:2586,目:922,省:-3485,県:2997,空:-867,立:-2112,第:788,米:2937,系:786,約:2171,経:1146,統:-1169,総:940,線:-994,署:749,者:2145,能:-730,般:-852,行:-792,規:792,警:-1184,議:-244,谷:-1e3,賞:730,車:-1481,軍:1158,輪:-1433,込:-3370,近:929,道:-1291,選:2596,郎:-4866,都:1192,野:-1100,銀:-2213,長:357,間:-2344,院:-2297,際:-2604,電:-878,領:-1659,題:-792,館:-1984,首:1749,高:2120,"｢":1895,"｣":3798,"･":-4371,ｯ:-724,ｰ:-11870,ｶ:2145,ｺ:1789,ｾ:1287,ﾄ:-403,ﾒ:-1635,ﾗ:-881,ﾘ:-541,ﾙ:-856,ﾝ:-3637},this.UW5__={",":465,".":-299,1:-514,E2:-32768,"]":-2762,"、":465,"。":-299,"「":363,あ:1655,い:331,う:-503,え:1199,お:527,か:647,が:-421,き:1624,ぎ:1971,く:312,げ:-983,さ:-1537,し:-1371,す:-852,だ:-1186,ち:1093,っ:52,つ:921,て:-18,で:-850,と:-127,ど:1682,な:-787,に:-1224,の:-635,は:-578,べ:1001,み:502,め:865,ゃ:3350,ょ:854,り:-208,る:429,れ:504,わ:419,を:-1264,ん:327,イ:241,ル:451,ン:-343,中:-871,京:722,会:-1153,党:-654,務:3519,区:-901,告:848,員:2104,大:-1296,学:-548,定:1785,嵐:-1304,市:-2991,席:921,年:1763,思:872,所:-814,挙:1618,新:-1682,日:218,月:-4353,査:932,格:1356,機:-1508,氏:-1347,田:240,町:-3912,的:-3149,相:1319,省:-1052,県:-4003,研:-997,社:-278,空:-813,統:1955,者:-2233,表:663,語:-1073,議:1219,選:-1018,郎:-368,長:786,間:1191,題:2368,館:-689,"１":-514,Ｅ２:-32768,"｢":363,ｲ:241,ﾙ:451,ﾝ:-343},this.UW6__={",":227,".":808,1:-270,E1:306,"、":227,"。":808,あ:-307,う:189,か:241,が:-73,く:-121,こ:-200,じ:1782,す:383,た:-428,っ:573,て:-1014,で:101,と:-105,な:-253,に:-149,の:-417,は:-236,も:-206,り:187,る:-135,を:195,ル:-673,ン:-496,一:-277,中:201,件:-800,会:624,前:302,区:1792,員:-1212,委:798,学:-960,市:887,広:-695,後:535,業:-697,相:753,社:-507,福:974,空:-822,者:1811,連:463,郎:1082,"１":-270,Ｅ１:306,ﾙ:-673,ﾝ:-496},this}r.prototype.ctype_=function(e){for(var t in this.chartype_)if(e.match(this.chartype_[t][0]))return this.chartype_[t][1];return"O"},r.prototype.ts_=function(e){return e||0},r.prototype.segment=function(e){if(null==e||null==e||""==e)return[];var t=[],r=["B3","B2","B1"],s=["O","O","O"],n=e.split("");for(l=0;l<n.length;++l)r.push(n[l]),s.push(this.ctype_(n[l]));r.push("E1"),r.push("E2"),r.push("E3"),s.push("O"),s.push("O"),s.push("O");for(var a=r[3],i="U",o="U",g="U",l=4;l<r.length-3;++l){var h=this.BIAS__,m=r[l-3],c=r[l-2],u=r[l-1],f=r[l],A=r[l+1],p=r[l+2],d=s[l-3],_=s[l-2],v=s[l-1],x=s[l],w=s[l+1],H=s[l+2];h+=this.ts_(this.UP1__[i]),h+=this.ts_(this.UP2__[o]),h+=this.ts_(this.UP3__[g]),h+=this.ts_(this.BP1__[i+o]),h+=this.ts_(this.BP2__[o+g]),h+=this.ts_(this.UW1__[m]),h+=this.ts_(this.UW2__[c]),h+=this.ts_(this.UW3__[u]),h+=this.ts_(this.UW4__[f]),h+=this.ts_(this.UW5__[A]),h+=this.ts_(this.UW6__[p]),h+=this.ts_(this.BW1__[c+u]),h+=this.ts_(this.BW2__[u+f]),h+=this.ts_(this.BW3__[f+A]),h+=this.ts_(this.TW1__[m+c+u]),h+=this.ts_(this.TW2__[c+u+f]),h+=this.ts_(this.TW3__[u+f+A]),h+=this.ts_(this.TW4__[f+A+p]),h+=this.ts_(this.UC1__[d]),h+=this.ts_(this.UC2__[_]),h+=this.ts_(this.UC3__[v]),h+=this.ts_(this.UC4__[x]),h+=this.ts_(this.UC5__[w]),h+=this.ts_(this.UC6__[H]),h+=this.ts_(this.BC1__[_+v]),h+=this.ts_(this.BC2__[v+x]),h+=this.ts_(this.BC3__[x+w]),h+=this.ts_(this.TC1__[d+_+v]),h+=this.ts_(this.TC2__[_+v+x]),h+=this.ts_(this.TC3__[v+x+w]),h+=this.ts_(this.TC4__[x+w+H]),h+=this.ts_(this.UQ1__[i+d]),h+=this.ts_(this.UQ2__[o+_]),h+=this.ts_(this.UQ3__[g+v]),h+=this.ts_(this.BQ1__[o+_+v]),h+=this.ts_(this.BQ2__[o+v+x]),h+=this.ts_(this.BQ3__[g+_+v]),h+=this.ts_(this.BQ4__[g+v+x]),h+=this.ts_(this.TQ1__[o+d+_+v]),h+=this.ts_(this.TQ2__[o+_+v+x]),h+=this.ts_(this.TQ3__[g+d+_+v]);var M="O";(h+=this.ts_(this.TQ4__[g+_+v+x]))>0&&(t.push(a),a="",M="B"),i=o,o=g,g=M,a+=r[l]}return t.push(a),t},e.exports=r},,function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));r(3);var s=r(6),n=r(11),a=r.n(n),i=r(2);class o{constructor(){this.tags_=[],this.bodymaxlength_=100,this.classifier_=new s.BayesianClassifier,this.loadSetting().then(()=>{this.createMenu()})}async loadSetting(){const e=await browser.storage.sync.get("data");null==e.data?this.classifier_.data={}:this.classifier_.data=e.data,this.tags_=await i.a.load(),browser.storage.sync.get("body_max_length").then(e=>{this.bodymaxlength_=e.body_max_length}),this.garbageCollection(),console.log("load settings totalcount : "+this.classifier_.totalCount)}async garbageCollection(){const e=this.classifier_.data;for(const t in e)-1==this.tags_.findIndex(e=>!(t!=e.key||!e.useClassification))&&(console.log("parge lean model : "+t),delete e[t]);let t=0;for(const r in e)for(const s in e[r].word)t+=e[r].word[s];this.classifier_.data=e,this.classifier_.totalCount=t}async saveSetting(){await browser.storage.sync.set({data:this.classifier_.data,totalCount:this.classifier_.totalCount})}async removeSetting(){await browser.storage.sync.clear(),this.classifier_=new s.BayesianClassifier}createMenu(){for(const e of this.tags_)e.useClassification&&browser.menus.create({id:"doLearn"+e.key,title:"このメールを「"+e.name+"」として学習",contexts:["message_list"],onclick:async t=>{if(null==t.selectedMessages)return;const r=this.listMessages(t.selectedMessages);let s=r.next();for(;!(await s).done;){const t=(await s).value;void 0!==t&&this.doLearn(t,e.key),s=r.next()}}});browser.menus.create({id:"scoring",title:"このメールを判定",contexts:["message_list"],onclick:async e=>{if(null==e.selectedMessages)return;const t=this.listMessages(e.selectedMessages);let r=t.next();for(;!(await r).done;){const e=(await r).value;void 0!==e&&this.classificationMessage(e),r=t.next()}}}),browser.menus.create({id:"learn_clear",title:"学習状況と設定をクリア",contexts:["message_list"],onclick:async e=>{this.clearLearn()}})}async*listMessages(e){let t=e;for(let e of t.messages)yield e;for(;t.id;){t=await browser.messages.continueList(t.id);for(let e of t.messages)yield e}}async getBody(e){let t="";if("parts"in e)for(var r of e.parts)t+=await this.getBody(r);return"body"in e&&(t+=e.body),t}async doLearn(e,t){const r=e.id,s=await this.divideMessage(r);let n=0;do{n+=1,console.log("re-learn count:"+n);for(const e of s)this.classifier_.train({word:e},t)}while(await this.getClassificationTag(r)!=t);await this.classificationMessage(e),this.saveSetting()}async clearLearn(){this.classifier_=new s.BayesianClassifier,this.removeSetting()}async scoring(e){const t={};performance.mark("本文分割開始");const r=await this.divideMessage(e);performance.mark("本文分割終了");for(const e of r){const r=this.classifier_.score({word:e});for(const e in r)null==t[e]&&(t[e]=0),t[e]+=r[e]}performance.mark("スコア集計終了");let s=new Array(0);for(const e in t)s.push({category:e,score:t[e]});return performance.measure("本文分割処理","本文分割開始","本文分割終了"),performance.measure("スコア集計処理","本文分割終了","スコア集計終了"),console.log(performance.getEntriesByName("本文分割処理")),console.log(performance.getEntriesByName("スコア集計処理")),s}async divideMessage(e){performance.mark("A");const t=await browser.messages.getFull(e);performance.mark("B");let r=await this.getBody(t);performance.mark("C"),r=r.slice(0,1024*this.bodymaxlength_);const s=new a.a;performance.mark("D");const n=s.segment(r);return performance.mark("E"),performance.measure("メッセージパート取得","A","B"),performance.measure("メッセージボディー取得","B","C"),performance.measure("Segmenter new","C","D"),performance.measure("Segmenter処理","D","E"),console.log(performance.getEntriesByType("measure")),n}async classificationMessage(e){performance.mark("分類開始");const t=e.id,r=await this.getClassificationTag(t);performance.mark("分類判定終了"),""!=r&&(this.setClassificationTag(t,r),performance.mark("分類終了"),performance.measure("分類メイン","分類開始","分類終了"),performance.measure("分類判定処理","分類開始","分類判定終了"),console.log(performance.getEntriesByName("分類メイン")),console.log(performance.getEntriesByName("分類判定処理")))}async getClassificationTag(e){const t=await this.scoring(e);return this.ranking(t)}ranking(e){if(0==e.length)return"";return e.sort((e,t)=>t.score-e.score)[0].category}async setClassificationTag(e,t){const r=await browser.messages.get(e),s=r.tags.filter(e=>{for(const t of this.tags_)if(t.useClassification&&t.key==e)return console.log("tag.key="+t.key+"/item="+e),!1;return!0});s.push(t);const n={flagged:r.flagged,junk:r.junk,read:r.read,tags:s};await browser.messages.update(e,n)}}new o}]);