<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookMain.css" type="text/css"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookCheckboxes.css" type="text/css"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookTreeChildrens.css" type="text/css"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookEmpty.css" type="text/css"?>
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookAddressBooks.css" type="text/css"?>
<!-- for the preference star -->
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookPrefStar.css" type="text/css"?>
<!-- for MailList icon -->
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookCardsIcon.css" type="text/css"?>
<!-- for the search field -->
<?xml-stylesheet href="chrome://messenger/skin/searchBox.css" type="text/css"?>
<!-- for the icons of the CardBook main toolbar -->
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookToolbarButtons.css" type="text/css"?>
<!-- for the icons of the CardBook menus -->
<?xml-stylesheet href="chrome://cardbook/content/skin/cardbookMenuIcons.css" type="text/css"?>

<!DOCTYPE window [
	<!ENTITY % messengerDTD SYSTEM "chrome://messenger/locale/messenger.dtd">  %messengerDTD;
	<!ENTITY % utilityDTD SYSTEM "chrome://communicator/locale/utilityOverlay.dtd">  %utilityDTD;
]>

<window id="wdw_cardbookWin"
        title="__CARDBOOKMSG_wdw_cardbookWindowLabel__"
        windowtype="CardBook:standaloneWindow"
        toggletoolbar="true"
        contenttitlesetting="true"
        macanimationtype="document"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        onload="wdw_cardbook.loadFirstWindow();"
        persist="screenX screenY width height sizemode"
        height="550" width="710">

	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookRichContext.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookEncryptor.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/wdw_cardbook.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookNotifications.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookWindowUtils.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookTreeUtils.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookUtils.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookElementTools.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookClipboard.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookTreeCols.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/observers/cardBookObserverRepository.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/observers/cardBookWindowObserver.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookDirTree.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/birthdays/cardbookBirthdaysUtils.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookWebDAV.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardEdition/wdw_imageEdition.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardEdition/wdw_cardEdition.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/complexSearch/cardbookComplexSearch.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/mailContact/ovl_cardbookFindEmails.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/mailContact/ovl_cardbookFindEvents.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/cardbookLocales.js"/>
	 <!-- for the function onViewToolbarsPopupShowing and CustomizeMailToolbar -->
	<script type="application/x-javascript" src="chrome://messenger/content/mailCore.js"/>

	<script type="application/x-javascript" src="chrome://cardbook/content/standalone/wdw_cardbookWin.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/standalone/ovl_winTaskBar.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/ovl_init.js"/>
	<script type="application/x-javascript" src="chrome://cardbook/content/layout/ovl_cardbookLayout.js"/>
	
	<broadcasterset id="cardbookBroadcasters">
		<broadcaster id="cardboookModeBroadcasterWindow" mode="mail"/>
	</broadcasterset>
	
	<commandset id="cardbook-commands">
		<command id="cmd_cut" oncommand="wdw_cardbook.cutKey();"/>
		<command id="cmd_copy" oncommand="wdw_cardbook.copyKey();"/>
		<command id="cmd_paste" oncommand="wdw_cardbook.pasteKey();"/>
		<command id="cmd_selectAll" oncommand="wdw_cardbook.selectAllKey();"/>
		<command id="cmd_printpreview" oncommand="wdw_cardbook.print();"/>
		<command id="cmd_undo1" oncommand="cardbookActions.undo();"/>
		<command id="cmd_redo1" oncommand="cardbookActions.redo();"/>
		<command id="cmd_find" oncommand="wdw_cardbook.findKey();"/>
		<command id="cmd_delete" oncommand="wdw_cardbook.deleteKey();"/>
	</commandset>
	
	<keyset id="cardbook-keys">
		<key id="CardBookComplexSearchKey" key="k" modifiers="accel" oncommand="wdw_cardbook.editComplexSearch()"/>
		<key id="CardBookNewContactKey" key="__CARDBOOKMSG_newCardBookCardMenuKey__" modifiers="accel, shift" oncommand="wdw_cardbook.newKey();"/>
		<key id="key_cut" key="X" observes="cmd_cut" modifiers="accel"/>
		<key id="key_copy" key="C" observes="cmd_copy" modifiers="accel"/>
		<key id="key_paste" key="V" observes="cmd_paste" modifiers="accel"/>
		<key id="key_selectAll" key="A" observes="cmd_selectAll" modifiers="accel"/>
		<key id="key_printpreview" key="P" observes="cmd_printpreview" modifiers="accel"/>
		<key id="key_undo1" key="Z" observes="cmd_undo1" modifiers="accel"/>
		<key id="key_redo1" key="Y" observes="cmd_redo1" modifiers="accel"/>
		<key id="key_find" key="F" observes="cmd_find" modifiers="accel"/>
		<key id="key_findAgain" keycode="VK_F3" observes="cmd_find"/>
		<key id="key_delete" keycode="VK_DELETE" observes="cmd_delete"/>
	</keyset>

	<vbox> 
		<toolbox id="navigation-toolbox" class="mail-toolbox">
			<toolbar id="mail-toolbar-menubar2" type="menubar" class="inline-toolbar chromeclass-toolbar" customizable="true"
				defaultset="menubar-items,spring"
				toolbarname="__CARDBOOKMSG_menubarCmd.label__"
				accesskey="__CARDBOOKMSG_menubarCmd.accesskey__"
				context="cardbook-toolbar-context"
				mode="full" iconsize="small">
				<toolbaritem id="menubar-items" align="center">
					<menubar id="main-menubar" style="border:0px;padding:0px;margin:0px;-moz-appearance:none">
						<menu id="menu_Edit" label="__CARDBOOKMSG_editMenu.label__" accesskey="__CARDBOOKMSG_editMenu.accesskey__">
							<menupopup id="menu_EditPopup" onpopupshowing="cardbookActions.setUndoAndRedoMenuAndButton();">
								<menuitem id="menu_undo1" command="cmd_undo1"/>
								<menuitem id="menu_redo1" command="cmd_redo1"/>
								<menuseparator/>
								<menuitem id="menu_find" label="__CARDBOOKMSG_findMenu.label__" accesskey="__CARDBOOKMSG_findMenu.accesskey__" command="cmd_find"/>
								<menuseparator/>
								<menuitem id="appmenu_devtoolsToolbox" label="__CARDBOOKMSG_devToolboxCmd.label__" oncommand="BrowserToolboxProcess.init();"/>
							</menupopup>
						</menu>
						<menu id="menu_View" label="__CARDBOOKMSG_viewMenu.label__" accesskey="__CARDBOOKMSG_viewMenu.accesskey__">
							<menupopup id="menu_View_Popup">
								<menu id="menu_Toolbars" label="__CARDBOOKMSG_viewToolbarsMenu.label__" accesskey="__CARDBOOKMSG_viewToolbarsMenu.accesskey__"
									onpopupshowing="wdw_cardbook.onViewToolbarsPopupShowing(event, ['navigation-toolbox', 'cardbook-toolbox']);">
									<menupopup id="view_toolbars_popup">
										<menuitem id="menu_showTaskbar" type="checkbox"/>
										<menuseparator id="viewMenuBeforeCustomizeMailToolbarsSeparator"/>
										<menuitem id="customizeMailToolbars"
											command="cmd_CustomizeMailToolbar"
											label="__CARDBOOKMSG_customizeToolbar.label__"
											accesskey="__CARDBOOKMSG_customizeToolbar.accesskey__"/>
									</menupopup>
								</menu>
								<menu id="menu_MessagePaneLayout" label="__CARDBOOKMSG_messagePaneLayoutStyle.label__" accesskey="__CARDBOOKMSG_messagePaneLayoutStyle.accesskey__">
									<menupopup id="view_layout_popup" onpopupshowing="ovl_cardbookLayout.setBoxes(event);ovl_cardbookLayout.setCheckboxesForWindow();">
										<menuitem id="messagePaneClassic1" type="radio" label="__CARDBOOKMSG_messagePaneClassic.label__"
											accesskey="__CARDBOOKMSG_messagePaneClassic.accesskey__" oncommand="ovl_cardbookLayout.changeOrientPanes('cmd_viewClassicMailLayout');"/>
										<menuitem id="messagePaneWide1" type="radio" label="__CARDBOOKMSG_messagePaneWide.label__" accesskey="__CARDBOOKMSG_messagePaneWide.accesskey__" hidden="true"/>
										<menuitem id="messagePaneVertical1" type="radio" label="__CARDBOOKMSG_messagePaneVertical.label__"
											accesskey="__CARDBOOKMSG_messagePaneVertical.accesskey__" oncommand="ovl_cardbookLayout.changeOrientPanes('cmd_viewVerticalMailLayout');"/>
										<menuseparator id="viewMenuAfterPaneVerticalSeparator"/>
										<menuitem id="cardbookABPaneItem"
											type="checkbox"
											label="__CARDBOOKMSG_cardbookABPaneItemLabel__" accesskey="__CARDBOOKMSG_cardbookABPaneItemAccesskey__"
											oncommand="ovl_cardbookLayout.changeResizePanes('viewABPane')"/>
										<menuitem id="cardbookContactPaneItem"
											type="checkbox" key="key_toggleMessagePane"
											label="__CARDBOOKMSG_cardbookContactPaneItemLabel__" accesskey="__CARDBOOKMSG_cardbookContactPaneItemAccesskey__"
											oncommand="ovl_cardbookLayout.changeResizePanes('viewABContact')"/>
									</menupopup>
								</menu>
							</menupopup>
						</menu>
						<menu id="cardbookAccountMenu"/>
						<menu id="cardbookContactsMenu"/>
						<menu id="cardbookToolsMenu"/>
					</menubar>
				</toolbaritem>
			</toolbar>
		</toolbox>
	</vbox>
	
	<!-- for the function CustomizeMailToolbar -->
	<menubar id="mail-menubar"/>

	<vbox id="cardbookTabPanel" flex="1" onkeypress="wdw_cardbook.chooseActionForKey(event);">
	
		<popupset id="cardbook-popupset">
			<menupopup id="cardbook-toolbar-context" onpopupshowing="wdw_cardbook.onViewToolbarsPopupShowing(event, ['navigation-toolbox', 'cardbook-toolbox']);">
				<menuseparator id="customizeCardBookToolbarMenuSeparator"/>
				<menuitem id="CustomizeCardBookToolbar"
					label="__CARDBOOKMSG_CustomizeCardBookToolbarLabel__"
					accesskey="__CARDBOOKMSG_CustomizeCardBookToolbarAccesskey__"
					oncommand="CustomizeMailToolbar('cardbook-toolbox', 'CustomizeCardBookToolbar')"/>
			</menupopup>
		</popupset>

		<toolbox id="cardbook-toolbox"
			class="mail-toolbox"
			mode="full"
			defaultmode="full"
			labelalign="end"
			defaultlabelalign="end">
			<toolbarpalette id="CardBookToolbarPalette">
				<toolbarbutton id="cardbookToolbarAddServerButton"
					label="__CARDBOOKMSG_cardbookToolbarAddServerButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarAddServerButtonTooltip__"
					oncommand="wdw_cardbook.addAddressbook();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarSyncButton" is="toolbarbutton-menu-button"
					label="__CARDBOOKMSG_cardbookToolbarSyncButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarSyncButtonTooltip__"
					oncommand="cardbookRepository.cardbookSynchronization.syncAccounts();"
					class="toolbarbutton-1"
					type="menu-button">
					<menupopup id="cardbookToolbarSyncMenupopup" onpopupshowing="cardbookElementTools.loadSyncAddressBooks(this);"/>
				</toolbarbutton>
				<toolbarbutton id="cardbookToolbarWriteButton" is="toolbarbutton-menu-button" 
					label="__CARDBOOKMSG_cardbookToolbarWriteButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarWriteButtonTooltip__"
					oncommand="wdw_cardbook.emailCardsFromWriteButton('2', 'to');"
					class="toolbarbutton-1"
					type="menu-button">
					<menupopup>
						<menuitem id="cardbookContactsMenuToEmailCards" label="__CARDBOOKMSG_toEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromWriteButton('1', 'to');"/>
						<menuitem id="cardbookContactsMenuCcEmailCards" label="__CARDBOOKMSG_ccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromWriteButton('1', 'cc');"/>
						<menuitem id="cardbookContactsMenuBccEmailCards" label="__CARDBOOKMSG_bccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromWriteButton('1', 'bcc');"/>
					</menupopup>
				</toolbarbutton>
				<toolbarbutton id="cardbookToolbarChatButton"
					label="__CARDBOOKMSG_cardbookToolbarChatButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarChatButtonTooltip__"
					oncommand="cardbookWindowUtils.connectCardsFromChatButton(this);"
					class="toolbarbutton-1"
					type="menu-button">
					<menupopup id="cardbookToolbarChatButtonMenuPopup"/>
				</toolbarbutton>
				<toolbarbutton id="cardbookToolbarConfigurationButton"
					label="__CARDBOOKMSG_cardbookToolbarConfigurationButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarConfigurationButtonTooltip__"
					oncommand="cardbookWindowUtils.openConfigurationWindow();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarAddContactButton"
					label="__CARDBOOKMSG_cardbookToolbarAddContactButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarAddContactButtonTooltip__"
					oncommand="wdw_cardbook.newKey();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarAddListButton"
					label="__CARDBOOKMSG_cardbookToolbarAddListButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarAddListButtonTooltip__"
					oncommand="wdw_cardbook.createList();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarEditButton"
					label="__CARDBOOKMSG_cardbookToolbarEditButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarEditButtonTooltip__"
					oncommand="wdw_cardbook.editCard();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarRemoveButton"
					label="__CARDBOOKMSG_cardbookToolbarRemoveButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarRemoveButtonTooltip__"
					oncommand="wdw_cardbook.deleteCardsAndValidate();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarPrintButton"
					label="__CARDBOOKMSG_cardbookToolbarPrintButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarPrintButtonTooltip__"
					oncommand="wdw_cardbook.print()"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarBackButton"
					label="__CARDBOOKMSG_cardbookToolbarBackButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarBackButtonTooltip__"
					oncommand="cardbookActions.undo()"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarForwardButton"
					label="__CARDBOOKMSG_cardbookToolbarForwardButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarForwardButtonTooltip__"
					oncommand="cardbookActions.redo()"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarAppMenuButton"
					title="__CARDBOOKMSG_cardbookToolbarAppMenuButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarAppMenuButtonTooltip__"
					class="toolbarbutton-1 button-appmenu"
					type="menu">
					<menupopup id="cardbook-menupopup">
						<menu id="cardbookAccountMenu" label="__CARDBOOKMSG_cardbookAccountMenuLabel__">
							<menupopup onpopupshowing="wdw_cardbook.cardbookAccountMenuContextShowing();">
								<menuitem id="cardbookAccountMenuAddServer" label="__CARDBOOKMSG_cardbookAccountMenuAddServerLabel__" oncommand="wdw_cardbook.addAddressbook();"/>
								<menuitem id="cardbookAccountMenuEditServer" label="__CARDBOOKMSG_cardbookAccountMenuEditServerLabel__" oncommand="wdw_cardbook.editAddressbook();"/>
								<menuitem id="cardbookAccountMenuCloseServer" label="__CARDBOOKMSG_cardbookAccountMenuCloseServerLabel__" oncommand="wdw_cardbook.removeAddressbook();"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuEnableOrDisableAddressbook" oncommand="wdw_cardbook.enableOrDisableAddressbook();"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuReadOnlyOrReadWriteAddressbook" oncommand="wdw_cardbook.readOnlyOrReadWriteAddressbook();"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuSync" label="__CARDBOOKMSG_cardbookAccountMenuSyncLabel__" oncommand="wdw_cardbook.syncAccountFromAccountsOrCats();"/>
								<menuitem id="cardbookAccountMenuSyncs" label="__CARDBOOKMSG_cardbookAccountMenuSyncsLabel__" oncommand="cardbookRepository.cardbookSynchronization.syncAccounts();"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuPrint" label="__CARDBOOKMSG_cardbookToolbarPrintButtonLabel__" oncommand="wdw_cardbook.printFromAccountsOrCats();"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuExportToFile" label="__CARDBOOKMSG_exportCardToFileLabel__" oncommand="wdw_cardbook.exportCardsFromAccountsOrCats(this);"/>
								<menuitem id="cardbookAccountMenuExportToDir" label="__CARDBOOKMSG_exportCardToDirLabel__" oncommand="wdw_cardbook.exportCardsFromAccountsOrCats(this);"/>
								<menuseparator/>
								<menuitem id="cardbookAccountMenuImportFromFile" label="__CARDBOOKMSG_importCardFromFileLabel__" oncommand="wdw_cardbook.importCardsFromFile();"/>
								<menuitem id="cardbookAccountMenuImportFromDir" label="__CARDBOOKMSG_importCardFromDirLabel__" oncommand="wdw_cardbook.importCardsFromDir();"/>
							</menupopup>
						</menu>
						<menu id="cardbookContactsMenu" label="__CARDBOOKMSG_cardbookContactsMenuLabel__">
							<menupopup onpopupshowing="wdw_cardbook.cardbookContactsMenuContextShowing();">
								<menuitem id="cardbookContactsMenuAddContact" label="__CARDBOOKMSG_cardbookToolbarAddContactButtonLabel__" oncommand="wdw_cardbook.newKey();"/>
								<menuitem id="cardbookContactsMenuAddList" label="__CARDBOOKMSG_cardbookToolbarAddListButtonLabel__" oncommand="wdw_cardbook.createList();"/>
								<menuitem id="cardbookContactsMenuEditContact" label="__CARDBOOKMSG_cardbookToolbarEditButtonLabel__" oncommand="wdw_cardbook.editCard();"/>
								<menuitem id="cardbookContactsMenuRemoveCard" label="__CARDBOOKMSG_cardbookToolbarRemoveButtonLabel__" oncommand="wdw_cardbook.deleteCardsAndValidate();"/>
								<menuseparator/>
								<menu id="cardbookContactsMenuCategories" label="__CARDBOOKMSG_categoryHeader__">
									<menupopup id="cardbookContactsMenuCategoriesMenuPopup">
										<menuitem id="cardbookContactsMenuCategoriesNew" label="__CARDBOOKMSG_categoryMenuLabel__" oncommand="wdw_cardbook.addCategory();"/>
										<menuseparator/>
									</menupopup>
								</menu>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuToEmailCards" label="__CARDBOOKMSG_toEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('to');"/>
								<menuitem id="cardbookContactsMenuCcEmailCards" label="__CARDBOOKMSG_ccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('cc');"/>
								<menuitem id="cardbookContactsMenuBccEmailCards" label="__CARDBOOKMSG_bccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('bcc');"/>
								<menuseparator/>
								<menu id="cardbookContactsMenuIMPPCards" label="__CARDBOOKMSG_IMPPMenuLabel__">
									<menupopup id="cardbookContactsMenuIMPPCardsMenuPopup"/>
								</menu>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuFindEmails" label="__CARDBOOKMSG_findEmailsFromCardsLabel__" oncommand="ovl_cardbookFindEmails.findEmailsFromCards();"/>
								<menuitem id="cardbookContactsMenuFindEvents" label="__CARDBOOKMSG_findEventsFromCardsLabel__" oncommand="wdw_cardbook.findEventsFromCards();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuLocalizeCards" label="__CARDBOOKMSG_localizeCardFromCardsLabel__" oncommand="wdw_cardbook.localizeCardsFromCards();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuOpenURL" label="__CARDBOOKMSG_openURLCardFromCardsLabel__" oncommand="wdw_cardbook.openURLFromCards();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuCutCards" label="__CARDBOOKMSG_cutCardFromCardsLabel__" oncommand="wdw_cardbook.cutCardsFromCards();"/>
								<menuitem id="cardbookContactsMenuCopyCards" label="__CARDBOOKMSG_copyCardFromCardsLabel__" oncommand="wdw_cardbook.copyCardsFromCards();"/>
								<menuitem id="cardbookContactsMenuPasteCards" label="__CARDBOOKMSG_pasteCardFromCardsLabel__" oncommand="wdw_cardbook.pasteCards();"/>
								<menuitem id="cardbookContactsMenuPasteEntry" label="__CARDBOOKMSG_pasteEntryLabel__" oncommand="wdw_cardbook.pasteFieldValue();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuPrint" label="__CARDBOOKMSG_cardbookToolbarPrintButtonLabel__" oncommand="wdw_cardbook.printFromCards();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuDuplicateCards" label="__CARDBOOKMSG_duplicateCardFromCardsLabel__" oncommand="wdw_cardbook.duplicateCards();"/>
								<menuitem id="cardbookContactsMenuMergeCards" label="__CARDBOOKMSG_mergeCardsFromCardsLabel__" oncommand="wdw_cardbook.mergeCards();"/>
								<menuseparator/>
								<menuitem id="cardbookContactsMenuExportCardsToFile" label="__CARDBOOKMSG_exportCardToFileLabel__" oncommand="wdw_cardbook.exportCardsFromCards(this);"/>
								<menuitem id="cardbookContactsMenuExportCardsToDir" label="__CARDBOOKMSG_exportCardToDirLabel__" oncommand="wdw_cardbook.exportCardsFromCards(this);"/>
							</menupopup>
						</menu>
						<menu id="cardbookToolsMenu" label="__CARDBOOKMSG_cardbookToolsMenuLabel__">
							<menupopup onpopupshowing="wdw_cardbook.cardbookToolsMenuContextShowing();">
								<menuitem id="cardbookToolsBirthdayList" label="__CARDBOOKMSG_cardbookToolsMenuBirthdayListLabel__" oncommand="wdw_cardbook.displayBirthdayList();"/>
								<menuitem id="cardbookToolsSyncLightning" label="__CARDBOOKMSG_cardbookToolsMenuSyncLightningLabel__" oncommand="wdw_cardbook.displaySyncList();"/>
								<menuseparator/>
								<menuitem id="cardbookToolsMenuFindSingleDuplicates" label="__CARDBOOKMSG_cardbookToolsMenuFindSingleDuplicatesLabel__" oncommand="wdw_cardbook.findDuplicatesFromAccountsOrCats();"/>
								<menuitem id="cardbookToolsMenuFindDuplicates" label="__CARDBOOKMSG_cardbookToolsMenuFindAllDuplicatesLabel__" oncommand="wdw_cardbook.findDuplicates();"/>
								<menuseparator/>
								<menuitem id="cardbookToolsMenuLog" label="__CARDBOOKMSG_wdw_logEditionTitle__" oncommand="wdw_cardbook.openLogEdition();"/>
								<menuseparator/>
								<menuitem id="cardbookToolsMenuOptions" label="__CARDBOOKMSG_cardbookToolsMenuPrefsLabel__" oncommand="cardbookWindowUtils.openConfigurationWindow();"/>
							</menupopup>
						</menu>
					</menupopup>
				</toolbarbutton>
				<toolbaritem id="cardbookToolbarSearchBox" flex="1"
					title="__CARDBOOKMSG_cardbookToolbarSearchBoxLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarSearchBoxTooltip__"
					class="toolbaritem-noline chromeclass-toolbar-additional">
					<search-textbox id="cardbookSearchInput" flex="1"
						class="themeableSearchBox"
						oncommand="wdw_cardbook.startSearch();"/>
				</toolbaritem>
				<toolbarbutton id="cardbookToolbarComplexSearch"
					label="__CARDBOOKMSG_cardbookToolbarComplexSearchLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarComplexSearchTooltip__"
					oncommand="wdw_cardbook.editComplexSearch();"
					class="toolbarbutton-1"/>
				<toolbarbutton id="cardbookToolbarThMenuButton"
					type="menu"
					class="toolbarbutton-1 button-appmenu"
					label="__CARDBOOKMSG_cardbookToolbarThMenuButtonLabel__"
					tooltiptext="__CARDBOOKMSG_cardbookToolbarThMenuButtonTooltip__"/>
			</toolbarpalette>
	
			<toolbar id="cardbook-toolbar" class="inline-toolbar chromeclass-toolbar"
				toolbarname="__CARDBOOKMSG_cardbookToolbarLabel__"
				accesskey="__CARDBOOKMSG_cardbookToolbarAccesskey__"
				fullscreentoolbar="true" mode="full"
				customizable="true"
				context="cardbook-toolbar-context"
				defaultset="cardbookToolbarAppMenuButton,cardbookToolbarSyncButton,cardbookToolbarWriteButton,cardbookToolbarConfigurationButton,cardbookToolbarBackButton,cardbookToolbarForwardButton,spring,cardbookToolbarSearchBox,cardbookToolbarAddContactButton,cardbookToolbarAddListButton,cardbookToolbarEditButton,cardbookToolbarRemoveButton,cardbookToolbarThMenuButton"/>
			<toolbarset id="cardbookToolbars" context="cardbook-toolbar-context"/>
		</toolbox>
		
		<menupopup id="adrTreeContextMenu" onpopupshowing="wdw_cardbook.adrTreeContextShowing(event);">
			<menuitem id="localizeadrTree" label="__CARDBOOKMSG_localizeadrTreeLabel__" oncommand="wdw_cardbook.localizeCardFromTree();"/>
			<menuseparator/>
			<menuitem id="copyadrTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="telTreeContextMenu" onpopupshowing="wdw_cardbook.telTreeContextShowing();">
			<menuitem id="connecttelTree" label="__CARDBOOKMSG_IMPPMenuLabel__" oncommand="wdw_cardbook.openTelFromTree();"/>
			<menuseparator/>
			<menuitem id="copytelTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="emailTreeContextMenu" onpopupshowing="wdw_cardbook.emailTreeContextShowing();">
			<menuitem id="toemailemailTree" label="__CARDBOOKMSG_toEmailEmailTreeLabel__" oncommand="wdw_cardbook.emailCardFromTree('to');"/>
			<menuitem id="ccemailemailTree" label="__CARDBOOKMSG_ccEmailEmailTreeLabel__" oncommand="wdw_cardbook.emailCardFromTree('cc');"/>
			<menuitem id="bccemailemailTree" label="__CARDBOOKMSG_bccemailemailTreeLabel__" oncommand="wdw_cardbook.emailCardFromTree('bcc');"/>
			<menuseparator/>
			<menuitem id="findemailemailTree" label="__CARDBOOKMSG_findemailemailTreeLabel__" oncommand="wdw_cardbook.findEmailsFromTree();"/>
			<menuitem id="findeventemailTree" label="__CARDBOOKMSG_findeventemailTreeLabel__" oncommand="wdw_cardbook.findEventsFromTree();"/>
			<menuseparator/>
			<menuitem id="copyemailTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="imppTreeContextMenu" onpopupshowing="wdw_cardbook.imppTreeContextShowing();">
			<menuitem id="connectimppTree" label="__CARDBOOKMSG_IMPPMenuLabel__" oncommand="wdw_cardbook.openIMPPFromTree();"/>
			<menuseparator/>
			<menuitem id="copyimppTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="urlTreeContextMenu" onpopupshowing="wdw_cardbook.urlTreeContextShowing();">
			<menuitem id="openURLTree" label="__CARDBOOKMSG_openURLTreeLabel__" oncommand="wdw_cardbook.openURLFromTree();"/>
			<menuseparator/>
			<menuitem id="copyurlTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="eventTreeContextMenu" onpopupshowing="wdw_cardbook.eventTreeContextShowing();">
			<menuitem id="copyeventTree" oncommand="wdw_cardbook.copyEntryFromTree();"/>
		</menupopup>

		<menupopup id="accountsOrCatsTreeContextMenu" onpopupshowing="wdw_cardbook.accountsOrCatsTreeContextShowing();">
			<menuitem id="addAccountFromAccountsOrCats" label="__CARDBOOKMSG_cardbookToolbarAddServerButtonLabel__" oncommand="wdw_cardbook.addAddressbook();"/>
			<menuitem id="editAccountFromAccountsOrCats" label="__CARDBOOKMSG_editAccountFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.editAddressbook();"/>
			<menuitem id="removeAccountFromAccountsOrCats" label="__CARDBOOKMSG_removeAccountFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.removeAddressbook();"/>
			<menuseparator/>
			<menuitem id="enableOrDisableFromAccountsOrCats" oncommand="wdw_cardbook.enableOrDisableAddressbook();"/>
			<menuseparator/>
			<menuitem id="readOnlyOrReadWriteFromAccountsOrCats" oncommand="wdw_cardbook.readOnlyOrReadWriteAddressbook();"/>
			<menuseparator/>
			<menuitem id="syncAccountFromAccountsOrCats" label="__CARDBOOKMSG_syncAccountFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.syncAccountFromAccountsOrCats();"/>
			<menuseparator/>
			<menuitem id="toEmailCardsFromAccountsOrCats" label="__CARDBOOKMSG_toEmailCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.emailCardsFromAccountsOrCats('to');"/>
			<menuitem id="ccEmailCardsFromAccountsOrCats" label="__CARDBOOKMSG_ccEmailCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.emailCardsFromAccountsOrCats('cc');"/>
			<menuitem id="bccEmailCardsFromAccountsOrCats" label="__CARDBOOKMSG_bccEmailCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.emailCardsFromAccountsOrCats('bcc');"/>
			<menuseparator/>
			<menuitem id="shareCardsByEmailFromAccountsOrCats" label="__CARDBOOKMSG_shareCardByEmailFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.shareCardsByEmailFromAccountsOrCats();"/>
			<menuseparator/>
			<menuitem id="cutCardsFromAccountsOrCats" label="__CARDBOOKMSG_cutCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.cutCardsFromAccountsOrCats();"/>
			<menuitem id="copyCardsFromAccountsOrCats" label="__CARDBOOKMSG_copyCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.copyCardsFromAccountsOrCats();"/>
			<menuitem id="pasteCardsFromAccountsOrCats" label="__CARDBOOKMSG_pasteCardFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.pasteCards();"/>
			<menuseparator/>
			<menuitem id="editNodeFromAccountsOrCats" oncommand="wdw_cardbook.selectNodeToAction('EDIT');"/>
			<menuitem id="removeNodeFromAccountsOrCats" oncommand="wdw_cardbook.selectNodeToAction('REMOVE');"/>
			<menuitem id="convertNodeFromAccountsOrCats" oncommand="wdw_cardbook.selectNodeToAction('CONVERT');"/>
			<menuseparator/>
			<menuitem id="findDuplicatesFromAccountsOrCats" label="__CARDBOOKMSG_findDuplicatesFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.findDuplicatesFromAccountsOrCats();"/>
			<menuseparator/>
			<menuitem id="generateFnFromAccountsOrCats" label="__CARDBOOKMSG_generateFnFromAccountsOrCatsLabel__" oncommand="wdw_cardbook.generateFnFromAccountsOrCats();"/>
			<menuseparator/>
			<menuitem id="printFromAccountsOrCats" label="__CARDBOOKMSG_cardbookToolbarPrintButtonLabel__" oncommand="wdw_cardbook.printFromAccountsOrCats();"/>
			<menuseparator/>
			<menuitem id="exportCardsToFileFromAccountsOrCats" label="__CARDBOOKMSG_exportCardToFileLabel__" oncommand="wdw_cardbook.exportCardsFromAccountsOrCats(this);"/>
			<menuitem id="exportCardsToDirFromAccountsOrCats" label="__CARDBOOKMSG_exportCardToDirLabel__" oncommand="wdw_cardbook.exportCardsFromAccountsOrCats(this);"/>
			<menuseparator/>
			<menuitem id="importCardsFromFileFromAccountsOrCats" label="__CARDBOOKMSG_importCardFromFileLabel__" oncommand="wdw_cardbook.importCardsFromFile();"/>
			<menuitem id="importCardsFromDirFromAccountsOrCats" label="__CARDBOOKMSG_importCardFromDirLabel__" oncommand="wdw_cardbook.importCardsFromDir();"/>
		</menupopup>

		<menupopup id="cardsTreeContextMenu" onpopupshowing="return wdw_cardbook.cardsTreeContextShowing(event);">
			<menuitem id="addContactFromCards" label="__CARDBOOKMSG_cardbookToolbarAddContactButtonLabel__" oncommand="wdw_cardbook.newKey();"/>
			<menuitem id="addListFromCards" label="__CARDBOOKMSG_cardbookToolbarAddListButtonLabel__" oncommand="wdw_cardbook.createList();"/>
			<menuitem id="editCardFromCards" label="__CARDBOOKMSG_cardbookToolbarEditButtonLabel__" oncommand="wdw_cardbook.editCard();"/>
			<menuitem id="removeCardFromCards" label="__CARDBOOKMSG_cardbookToolbarRemoveButtonLabel__" oncommand="wdw_cardbook.deleteCardsAndValidate();"/>
			<menuseparator/>
			<menu id="categoriesFromCards" label="__CARDBOOKMSG_categoryHeader__">
				<menupopup id="categoriesFromCardsMenuPopup">
					<menuitem id="categoriesFromCardsNew" label="__CARDBOOKMSG_categoryMenuLabel__" oncommand="wdw_cardbook.addCategory();"/>
					<menuseparator/>
				</menupopup>
			</menu>
			<menuseparator/>
			<menuitem id="toEmailCardsFromCards" label="__CARDBOOKMSG_toEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('to');"/>
			<menuitem id="ccEmailCardsFromCards" label="__CARDBOOKMSG_ccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('cc');"/>
			<menuitem id="bccEmailCardsFromCards" label="__CARDBOOKMSG_bccEmailCardFromCardsLabel__" oncommand="wdw_cardbook.emailCardsFromCards('bcc');"/>
			<menuseparator/>
			<menuitem id="shareCardsByEmailFromCards" label="__CARDBOOKMSG_shareCardByEmailFromCardsLabel__" oncommand="wdw_cardbook.shareCardsByEmailFromCards();"/>
			<menuseparator/>
			<menu id="IMPPCardFromCards" label="__CARDBOOKMSG_IMPPMenuLabel__">
				<menupopup id="IMPPCardFromCardsMenuPopup"/>
			</menu>
			<menuseparator/>
			<menuitem id="findEmailsFromCards" label="__CARDBOOKMSG_findEmailsFromCardsLabel__" oncommand="wdw_cardbook.findEmailsFromCards();"/>
			<menuitem id="findEventsFromCards" label="__CARDBOOKMSG_findEventsFromCardsLabel__" oncommand="wdw_cardbook.findEventsFromCards();"/>
			<menuseparator/>
			<menuitem id="localizeCardsFromCards" label="__CARDBOOKMSG_localizeCardFromCardsLabel__" oncommand="wdw_cardbook.localizeCardsFromCards();"/>
			<menuseparator/>
			<menuitem id="openURLFromCards" label="__CARDBOOKMSG_openURLCardFromCardsLabel__" oncommand="wdw_cardbook.openURLFromCards();"/>
			<menuseparator/>
			<menuitem id="cutCardsFromCards" label="__CARDBOOKMSG_cutCardFromCardsLabel__" oncommand="wdw_cardbook.cutCardsFromCards();"/>
			<menuitem id="copyCardsFromCards" label="__CARDBOOKMSG_copyCardFromCardsLabel__" oncommand="wdw_cardbook.copyCardsFromCards();"/>
			<menuitem id="pasteCardsFromCards" label="__CARDBOOKMSG_pasteCardFromCardsLabel__" oncommand="wdw_cardbook.pasteCards();"/>
			<menuitem id="pasteEntryFromCards" label="__CARDBOOKMSG_pasteEntryLabel__" oncommand="wdw_cardbook.pasteFieldValue();"/>
			<menuseparator/>
			<menuitem id="duplicateCardsFromCards" label="__CARDBOOKMSG_duplicateCardFromCardsLabel__" oncommand="wdw_cardbook.duplicateCards();"/>
			<menuitem id="mergeCardsFromCards" label="__CARDBOOKMSG_mergeCardsFromCardsLabel__" oncommand="wdw_cardbook.mergeCards();"/>
			<menuseparator/>
			<menuitem id="convertListToCategoryFromCards" label="__CARDBOOKMSG_convertListToCategoryFromCardsLabel__" oncommand="wdw_cardbook.convertListToCategory();"/>
			<menuseparator/>
			<menuitem id="printFromCards" label="__CARDBOOKMSG_cardbookToolbarPrintButtonLabel__" oncommand="wdw_cardbook.printFromCards();"/>
			<menuseparator/>
			<menuitem id="exportCardsToFileFromCards" label="__CARDBOOKMSG_exportCardToFileLabel__" oncommand="wdw_cardbook.exportCardsFromCards(this);"/>
			<menuitem id="exportCardsToDirFromCards" label="__CARDBOOKMSG_exportCardToDirLabel__" oncommand="wdw_cardbook.exportCardsFromCards(this);"/>
		</menupopup>
		
		<menupopup id="imageCardContextMenu">
			<menuitem id="saveImageCard" label="__CARDBOOKMSG_saveImageCardLabel__" oncommand="wdw_imageEdition.saveImageCard();"/>
			<menuitem id="copyImageCard" label="__CARDBOOKMSG_copyImageCardLabel__" oncommand="wdw_imageEdition.copyImageCard();"/>
			<menuitem id="copyImageLocationCard" label="__CARDBOOKMSG_copyImageLocationCardLabel__" oncommand="wdw_imageEdition.copyImageLocationCard();"/>
		</menupopup>

		<menupopup id="listsContextMenu">
			<menuitem id="editCardFromList" label="__CARDBOOKMSG_editCardFromListLabel__" oncommand="wdw_cardbook.editCardFromList();"/>
		</menupopup>
		
		<hbox id="mainHbox" flex="1">
			<vbox id="leftPaneVbox" persist="width collapsed">
				<vbox id="cardbookFolderPaneToolbox">
					<hbox id="cardbookFolderPaneToolbar"
						class="inline-toolbar toolbar"
						toolboxid="cardbook-toolbox"
						toolbarname="__CARDBOOKMSG_cardbookABPaneToolbarLabel__"
						accesskey="__CARDBOOKMSG_cardbookABPaneToolbarAccesskey__"
						context="cardbook-toolbar-context"
						collapsed="false">
						<toolbaritem id="accountsOrCatsTreeToolbaritem" align="center"
							label="__CARDBOOKMSG_cardbookToolbarABMenuLabel__"
							tooltiptext="__CARDBOOKMSG_cardbookToolbarABMenuTooltip__">
							<menulist id="accountsOrCatsTreeMenulist" oncommand="wdw_cardbook.changeAddressbookTreeMenu();" sizetopopup="none" crop="center" flex="1">
								<menupopup id="accountsOrCatsTreeMenupopup"/>
							</menulist>
						</toolbaritem>
					</hbox>
				</vbox>
				<tree id="accountsOrCatsTree"
					class="cardbookTreeClass cardbookAccountTreeClass"
					seltype="single"
					flex="1" editable="true" context="accountsOrCatsTreeContextMenu" enableColumnDrag="false"
					hidecolumnpicker="true" onkeyup="wdw_cardbook.selectAccountOrCatInNoSearch();" onclick="wdw_cardbook.selectAccountOrCatInNoSearch();">
					<treecols id="accountsOrCatsTreecols">
						<treecol id="accountEnabled" type="checkbox" editable="true" width="17" hideheader="true" persist="width ordinal hidden" tooltiptext="__CARDBOOKMSG_enableAccountsTooltip__"/>
						<treecol id="accountTypeCheckbox" type="checkbox" editable="false" width="20" hideheader="true" persist="width ordinal hidden"/>
						<treecol id="accountColor" editable="false" width="17" hideheader="true" persist="width ordinal hidden" tooltiptext="__CARDBOOKMSG_colorAccountsTooltip__"/>
						<treecol id="accountName" flex="1" persist="width ordinal hidden" primary="true" hideheader="true" crop="center"/>
						<treecol id="accountId" persist="width ordinal hidden" hidden="true" hideheader="true"/>
						<treecol id="accountType" persist="width ordinal hidden" hidden="true" hideheader="true"/>
						<treecol id="accountRoot" persist="width ordinal hidden" hidden="true" hideheader="true"/>
						<treecol id="accountStatusCheckbox" type="checkbox" persist="width ordinal hidden" width="17" hideheader="true" tooltiptext="__CARDBOOKMSG_readonlyAccountsTooltip__"/>
						<treecol id="dummyForScroll" type="checkbox" persist="width ordinal hidden" width="17" hideheader="true"/>
					</treecols>
					<treechildren id="accountsOrCatsTreeChildren" flex="1" ondragstart="wdw_cardbook.startDrag(event);" ondrop="wdw_cardbook.dragCards(event);"
								 ondblclick="wdw_cardbook.doubleClickAccountOrCat(event);"/>
				</tree>
			</vbox>

			<splitter id="dirTreeSplitter" collapse="before" persist="state orient" class="cardbookVerticalSplitterClass"/>

			<box id="cardsBox" flex="1">
				<vbox id="rightPaneUpHbox" flex="1" persist="width height collapsed" ondragover="wdw_cardbook.canDropOnContactBox(event);" ondrop="wdw_cardbook.dragCards(event);">
					<hbox id="searchRemoteHbox">
						<textbox id="searchRemoteTextbox" flex="1" placeholder="__CARDBOOKMSG_searchRemoteLabel__" onchange="wdw_cardbook.searchRemote();"/>
					</hbox>
					<tree id="cardsTree" class="cardbookTreeClass cardbookCardsTreeClass" context="cardsTreeContextMenu" flex="1" enableColumnDrag="true" 
						persist="width sortDirection sortResource" sortDirection="ascending" sortResource="lastname" hidecolumnpicker="false"
						onkeyup="wdw_cardbook.selectCard(event);" onclick="wdw_cardbook.sortTrees(event);">
						<treecols id="cardsTreecols" is="cards-pane-treecols" pickertooltiptext="__CARDBOOKMSG_columnChooser2.tooltip__"/>
					   <treechildren id="cardsTreeChildren" ondragstart="wdw_cardbook.startDrag(event);" ondblclick="wdw_cardbook.doubleClickCardsTree(event);"/>
					</tree>
				</vbox>
				
				<splitter id="resultsSplitterClassical" collapse="after" orient="horizontal" persist="state orient" class="cardbookVerticalSplitterClass"/>

				<splitter id="resultsSplitterModern" collapse="after" orient="vertical" persist="state orient" class="cardbookHorizontalSplitterClass"/>

				<hbox id="rightPaneDownHbox" context="" persist="width height collapsed" class="cardbookBackgroundColorClass">
					<vbox flex="1">
						<tabbox id="cardbookTabbox" flex="1">
							<tabs>
								<tab id="generalTab" label="__CARDBOOKMSG_generalTabLabel__"/>
								<tab id="mailPopularityTab" label="__CARDBOOKMSG_mailPopularityTabLabel__"/>
								<tab id="technicalTab" label="__CARDBOOKMSG_technicalTabLabel__"/>
								<tab id="vcardTab" label="__CARDBOOKMSG_vCardTabLabel__"/>
							</tabs>
							
							<tabpanels flex="1">
								<tabpanel orient="vertical" style="overflow:auto">
									<hbox flex="1">
										<vbox flex="1">
											<hbox align="center" flex="1">
												<vbox flex="1">
													<groupbox id="fnGroupbox">
														<label id="fnLabel" class="header">__CARDBOOKMSG_fnLabel__</label>
														<hbox flex="1" class="indent">
															<textbox id="fnTextBox" flex="1" fieldName="fn"/>
														</hbox>
													</groupbox>
												</vbox>
											</hbox>
											<hbox id="persBox" flex="1">
												<groupbox id="persGroupbox" flex="1">
													<label class="header">__CARDBOOKMSG_persTitleLabel__</label>
													<hbox flex="1" class="indent">
														<grid align="center" flex="1">
															<columns>
																<column/>
																<column flex="1"/>
															</columns>
												
															<rows id="persRows">
																<row id="lastnameRow" align="center">
																	<label id="lastnameLabel" value="__CARDBOOKMSG_lastnameLabel__" control="lastnameTextBox" class="header"/>
																	<textbox id="lastnameTextBox" fieldName="lastname"/>
																</row>
																<row id="firstnameRow" align="center">
																	<label id="firstnameLabel" value="__CARDBOOKMSG_firstnameLabel__" control="firstnameTextBox" class="header"/>
																	<textbox id="firstnameTextBox" fieldName="firstname"/>
																</row>
																<row id="othernameRow" align="center">
																	<label id="othernameLabel" value="__CARDBOOKMSG_othernameLabel__" control="othernameTextBox" class="header"/>
																	<textbox id="othernameTextBox" fieldName="othername"/>
																</row>
																<row id="prefixnameRow" align="center">
																	<label id="prefixnameLabel" value="__CARDBOOKMSG_prefixnameLabel__" control="prefixnameTextBox" class="header"/>
																	<textbox id="prefixnameTextBox" fieldName="prefixname"/>
																</row>
																<row id="suffixnameRow" align="center">
																	<label id="suffixnameLabel" value="__CARDBOOKMSG_suffixnameLabel__" control="suffixnameTextBox" class="header"/>
																	<textbox id="suffixnameTextBox" fieldName="suffixname"/>
																</row>
																<row id="nicknameRow" align="center">
																	<label id="nicknameLabel" value="__CARDBOOKMSG_nicknameLabel__" control="nicknameTextBox" class="header"/>
																	<textbox id="nicknameTextBox" fieldName="nickname"/>
																</row>
																<row id="genderRow" align="center">
																	<label id="genderLabel" value="__CARDBOOKMSG_genderLabel__" control="genderTextBox" class="header"/>
																	<textbox id="genderTextBox" fieldName="gender"/>
																</row>
																<row id="bdayRow" align="center">
																	<label id="bdayLabel" value="__CARDBOOKMSG_bdayLabel__" control="bdayTextBox" class="header"/>
																	<textbox id="bdayTextBox" fieldName="bday"/>
																</row>
																<row id="birthplaceRow" align="center">
																	<label id="birthplaceLabel" value="__CARDBOOKMSG_birthplaceLabel__" control="birthplaceTextBox" class="header"/>
																	<textbox id="birthplaceTextBox" fieldName="birthplace"/>
																</row>
																<row id="deathdateRow" align="center">
																	<label id="deathdateLabel" value="__CARDBOOKMSG_deathdateLabel__" control="deathdateTextBox" class="header"/>
																	<textbox id="deathdateTextBox" fieldName="deathdate"/>
																</row>
																<row id="deathplaceRow" align="center">
																	<label id="deathplaceLabel" value="__CARDBOOKMSG_deathplaceLabel__" control="deathplaceTextBox" class="header"/>
																	<textbox id="deathplaceTextBox" fieldName="deathplace"/>
																</row>
																<row id="anniversaryRow" align="center">
																	<label id="anniversaryLabel" value="__CARDBOOKMSG_anniversaryLabel__" control="anniversaryTextBox" class="header"/>
																	<textbox id="anniversaryTextBox" fieldName="anniversary"/>
																</row>
															</rows>
														</grid>
													</hbox>
												</groupbox>
											</hbox>
											<hbox id="orgBox" flex="1">
												<groupbox id="orgGroupbox" flex="1">
													<label class="header">__CARDBOOKMSG_orgTitleLabel__</label>
													<hbox flex="1" class="indent">
														<grid align="center" flex="1">
															<columns>
																<column/>
																<column flex="1"/>
															</columns>
												
															<rows id="orgRows"/>
														</grid>
													</hbox>
												</groupbox>
											</hbox>
											<hbox flex="1">
												<groupbox id="categoriesclassicalGroupbox" flex="1">
													<label class="header">__CARDBOOKMSG_categoriesHeader__</label>
													<hbox id="categoriesclassicalHbox" flex="1" class="indent">
														<vbox id="categoriesclassicalRow" flex="1"/>
													</hbox>
												</groupbox>
											</hbox>
											<hbox flex="1">
												<groupbox id="noteclassicalGroupbox" flex="1">
													<label class="header">__CARDBOOKMSG_noteTabLabel__</label>
													<hbox flex="1" class="indent">
														<vbox flex="1">
															<html:textarea id="noteclassicalTextBox"/>
														</vbox>
													</hbox>
												</groupbox>
											</hbox>
										</vbox>
										<vbox id="imageBox" align="center" width="170px">
											<hbox align="center" height="170px">
												<html:img id="imageForSizing" hidden="true"/>
												<image id="defaultCardImage" context="imageCardContextMenu"/>
											</hbox>
										</vbox>
										<vbox flex="1">
											<grid align="center" flex="1">
												<columns>
													<column/>
													<column/>
													<column flex="1"/>
													<column flex="1"/>
												</columns>
												<rows id="classicalRows"/>
											</grid>
										</vbox>
									</hbox>
									<hbox align="center" flex="1">
										<vbox flex="1">
											<groupbox id="categoriesmodernGroupbox" flex="1">
												<label class="header">__CARDBOOKMSG_categoriesHeader__</label>
												<hbox id="categoriesmodernHbox" flex="1" class="indent">
													<vbox id="categoriesmodernRow"/>
												</hbox>
											</groupbox>
										</vbox>
									</hbox>
									<hbox flex="1">
										<vbox flex="1">
											<grid align="center" flex="1">
												<columns>
													<column/>
													<column/>
													<column flex="1"/>
													<column flex="1"/>
												</columns>
												<rows id="modernRows"/>
											</grid>
										</vbox>
									</hbox>
									<hbox id="listGroupbox" flex="1">
										<vbox flex="1">
											<grid align="center" flex="1">
												<columns>
													<column/>
													<column flex="1"/>
												</columns>
												<rows flex="1">
													<groupbox id="addedCardsGroupbox" flex="1"/>
												</rows>
											</grid>
										</vbox>
									</hbox>
									<hbox flex="1">
										<groupbox id="notemodernGroupbox" flex="1">
											<label class="header">__CARDBOOKMSG_noteTabLabel__</label>
											<vbox flex="1" class="indent">
												<html:textarea id="notemodernTextBox"/>
											</vbox>
										</groupbox>
									</hbox>
									<spacer flex="100"/>
								</tabpanel>
			
								<tabpanel orient="vertical" style="overflow:auto">
									<groupbox id="mailPopularityReadWriteGroupbox" flex="1">
										<grid>
											<columns flex="1">
												<column/>
												<column flex="1"/>
											</columns>
											<rows flex="1">
												<groupbox id="mailPopularityGroupbox" flex="1"/>
											</rows>
										</grid>
									</groupbox>
									<spacer flex="100"/>
								</tabpanel>
			
								<tabpanel orient="vertical" style="overflow:auto">
									<vbox id="miscBox">
										<groupbox id="miscGroupbox" flex="1">
											<label class="header">__CARDBOOKMSG_miscGroupboxLabel__</label>
											<hbox flex="1" align="center">
												<grid align="center" flex="1">
													<columns>
														<column/>
														<column flex="1"/>
													</columns>
										
													<rows>
														<row id="mailerRow" align="center">
															<label id="mailerLabel" value="__CARDBOOKMSG_mailerLabel__" control="mailerTextBox" class="header"/>
															<textbox id="mailerTextBox"/>
														</row>
														<row id="geoRow" align="center">
															<label id="geoLabel" value="__CARDBOOKMSG_geoLabel__" control="geoTextBox" class="header"/>
															<textbox id="geoTextBox"/>
														</row>
														<row id="sortstringRow" align="center">
															<label id="sortstringLabel" value="__CARDBOOKMSG_sortstringLabel__" control="sortstringTextBox" class="header"/>
															<textbox id="sortstringTextBox"/>
														</row>
														<row id="class1Row" align="center">
															<label id="class1Label" value="__CARDBOOKMSG_class1Label__" control="class1TextBox" class="header"/>
															<textbox id="class1TextBox"/>
														</row>
														<row id="tzRow" align="center">
															<label id="tzLabel" value="__CARDBOOKMSG_tzLabel__" control="tzTextBox" class="header"/>
															<textbox id="tzTextBox"/>
														</row>
														<row id="agentRow" align="center">
															<label id="agentLabel" value="__CARDBOOKMSG_agentLabel__" control="agentTextBox" class="header"/>
															<textbox id="agentTextBox"/>
														</row>
														<row id="keyRow" align="center">
															<label id="keyLabel" value="__CARDBOOKMSG_keyLabel__" control="keyTextBox" class="header"/>
															<textbox id="keyTextBox"/>
														</row>
														<row id="photoLocalURIRow" align="center">
															<label id="photolocalURILabel" value="__CARDBOOKMSG_photolocalURILabel__" control="photolocalURITextBox" class="header"/>
															<textbox id="photolocalURITextBox"/>
														</row>
														<row id="photoURIRow" align="center">
															<label id="photoURILabel" value="__CARDBOOKMSG_photoURILabel__" control="photoURITextBox" class="header"/>
															<textbox id="photoURITextBox"/>
														</row>
														<row id="logoLocalURIRow" align="center">
															<label id="logolocalURILabel" value="__CARDBOOKMSG_logolocalURILabel__" control="logolocalURITextBox" class="header"/>
															<textbox id="logolocalURITextBox"/>
														</row>
														<row id="logoURIRow" align="center">
															<label id="logoURILabel" value="__CARDBOOKMSG_logoURILabel__" control="logoURITextBox" class="header"/>
															<textbox id="logoURITextBox"/>
														</row>
														<row id="soundLocalURIRow" align="center">
															<label id="soundlocalURILabel" value="__CARDBOOKMSG_soundlocalURILabel__" control="soundlocalURITextBox" class="header"/>
															<textbox id="soundlocalURITextBox"/>
														</row>
														<row id="soundURIRow" align="center">
															<label id="soundURILabel" value="__CARDBOOKMSG_soundURILabel__" control="soundURITextBox" class="header"/>
															<textbox id="soundURITextBox"/>
														</row>
													</rows>
												</grid>
											</hbox>
										</groupbox>
									</vbox>
											
									<vbox id="techBox">
										<groupbox id="techGroupbox" flex="1">
											<label class="header">__CARDBOOKMSG_techGroupboxLabel__</label>
											<hbox flex="1" align="center">
												<grid align="center" flex="1">
													<columns>
														<column/>
														<column flex="1"/>
													</columns>
										
													<rows>
														<row id="dirPrefIdRow" align="center">
															<label id="dirPrefIdLabel" value="__CARDBOOKMSG_dirPrefIdLabel__" control="dirPrefIdTextBox" class="header"/>
															<textbox id="dirPrefIdTextBox"/>
														</row>
														<row id="versionRow" align="center">
															<label id="versionLabel" value="__CARDBOOKMSG_versionLabel__" control="versionTextBox" class="header"/>
															<textbox id="versionTextBox"/>
														</row>
														<row id="prodidRow" align="center">
															<label id="prodidLabel" value="__CARDBOOKMSG_prodidLabel__" control="prodidTextBox" class="header"/>
															<textbox id="prodidTextBox"/>
														</row>
														<row id="uidRow" align="center">
															<label id="uidLabel" value="__CARDBOOKMSG_uidLabel__" control="uidTextBox" class="header"/>
															<textbox id="uidTextBox"/>
														</row>
														<row id="cardurlRow" align="center">
															<label id="cardurlLabel" value="__CARDBOOKMSG_cardurlLabel__" control="cardurlTextBox" class="header"/>
															<textbox id="cardurlTextBox"/>
														</row>
														<!-- <row id="cacheuriRow" align="center"> -->
															<!-- <label id="cacheuriLabel" value="__CARDBOOKMSG_cacheuriLabel__" control="cacheuriTextBox" class="header"/> -->
															<!-- <textbox id="cacheuriTextBox"/> -->
														<!-- </row> -->
														<row id="revRow" align="center">
															<label id="revLabel" value="__CARDBOOKMSG_revLabel__" control="revTextBox" class="header"/>
															<textbox id="revTextBox"/>
														</row>
														<row id="etagRow" align="center">
															<label id="etagLabel" value="__CARDBOOKMSG_etagLabel__" control="etagTextBox" class="header"/>
															<textbox id="etagTextBox"/>
														</row>
													</rows>
												</grid>
											</hbox>
										</groupbox>
									</vbox>
											
									<vbox id="othersBox" flex="1">
										<groupbox id="othersGroupbox" flex="1">
											<label class="header">__CARDBOOKMSG_othersGroupboxLabel__</label>
											<hbox flex="1">
												<html:textarea id="othersTextBox"/>
											</hbox>
										</groupbox>
									</vbox>
								</tabpanel>
			
								<tabpanel id="vcardTabpanel" orient="vertical" style="overflow:auto">
									<html:textarea id="vcardTextBox"/>
								</tabpanel>
							</tabpanels>
						</tabbox>
					</vbox>
				</hbox>
			</box>
		</hbox>
	</vbox>

	<statusbar class="chromeclass-status" id="status-bar">
		<statusbarpanel checkfunc="MailCheckBeforeOfflineChange()" id="offline-status" class="statusbarpanel-iconic"/>
		<statusbarpanel id="component-bar"/>
		<statusbarpanel id="statusText" crop="right" flex="1"/>
		<statusbarpanel class="statusbarpanel-progress" id="statusbar-progresspanel" collapsed="true">
			<html:progress class="progressmeter-statusbar" id="statusbar-icon" value="0" max="100"/>
		</statusbarpanel>
		<statusbarpanel id="unreadMessageCount" hidden="true"/>
		<statusbarpanel id="totalMessageCount" hidden="true" onclick="wdw_cardbook.openLogEdition();"/>
	</statusbar>
</window>
